{"version":3,"sources":["containers/domain/service/services.module.scss","containers/domain/service/serivces.settings.tsx"],"names":["module","exports","connect","state","services","getServices","error","getError","mat","getMat","loading","getLoading","dispatch","setServiceToQueue","props","useState","Services","setServices","header","setHeader","setError","useEffect","settingHeader","useCallback","className","SerivcesSettingsStyle","TableHeader","language","reduce","json","s","_id","count","setCount","map","key","title","price","duration","onClick","increaseService","color","temp","decreaseService","redirect","setRedirect","to","localStorage","getItem","Fragment","Service","SerivcesSettings","Error","Button","Object","keys","acc","index","disabled"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,QAAU,0BAA0B,iBAAmB,mCAAmC,KAAO,uBAAuB,SAAW,2BAA2B,YAAc,8BAA8B,OAAS,yBAAyB,UAAY,4BAA4B,MAAQ,wBAAwB,aAAa,6BAA6B,gBAAgB,kC,8JC8HjXC,uBAXS,SAACC,GAAD,MAAiB,CACrCC,SAAUC,YAAYF,GACtBG,MAAOC,YAASJ,GAChBK,IAAKC,YAAON,GACZO,QAASC,YAAWR,OAGG,SAACS,GAAD,MAAoB,CAC3CC,kBAAmB,SAACT,GAAD,OAAgCQ,EAASC,YAAkBT,QAGnEF,EApGsB,SAACY,GAAW,IAAD,EAEZC,mBAAwB,IAFZ,mBAErCC,EAFqC,KAE3BC,EAF2B,OAGhBF,qBAHgB,mBAGrCG,EAHqC,KAG7BC,EAH6B,OAIlBJ,mBAAwB,MAJN,mBAIrCT,EAJqC,KAI9Bc,EAJ8B,KAK5CC,qBAAU,WACNF,EAAUG,OAEX,IACH,IAAMA,EAAgBC,uBAAY,kBAC9B,2BAAOC,UAAWC,IAAsBC,aACpC,4BACI,4BAAKC,IAAqB,IAC1B,4BAAKA,IAAe,IACpB,4BAAKA,IAAkB,IACvB,4BAAKA,IAAkB,QAGhC,IAlByC,EAoBlBZ,mBAASD,EAAMV,SACpCwB,QAAO,SAACC,EAAWC,GAAkC,OAAjBD,EAAKC,EAAEC,KAAO,EAAUF,IAAS,KArB9B,mBAoBrCG,EApBqC,KAoB9BC,EApB8B,KA+B5CZ,qBAAU,WACNJ,EACIH,EAAMV,SAAS8B,KAAI,SAACJ,GAChB,IAAMC,EAAMD,EAAEC,KAAO,IACrB,OACI,wBAAII,IAAKJ,GACL,4BAAKD,EAAEM,OACP,qCAAMN,EAAEO,OACR,4BAAKP,EAAEQ,UACP,4BACI,kBAAC,IAAD,CAAmBC,QAAS,kBAlB5B,SAACR,GACrBX,EAAS,IACTa,EAAS,2BAAKD,GAAN,kBAAcD,EAAMC,EAAMD,GAAO,KAgBaS,CAAgBT,IAAMU,MAAM,YAC7DT,EAAMD,GACP,kBAAC,IAAD,CAAsBQ,QAAS,kBAhB/B,SAACR,GACrB,IAAMW,EAAOV,EAAMD,GAAO,EAAIC,EAAMD,GAAO,EAAI,EAC/CE,EAAS,2BAAKD,GAAN,kBAAcD,EAAMW,KAc6BC,CAAgBZ,IAAMU,MAAM,oBAMtF,CAACT,IAEJ,IAnD4C,EA2DZjB,qBA3DY,mBA2DrC6B,EA3DqC,KA2D3BC,EA3D2B,KAmE5C,OANAxB,qBAAU,WACG,MAATf,GAA2B,KAAVA,GAAgBuC,EAC7B,kBAAC,IAAD,CAAUC,GAAIC,aAAaC,QAAQ,UAAY,iBAEpD,CAAClC,EAAMN,MAGN,kBAAC,IAAMyC,SAAP,KACKL,EACD,yBAAKpB,UAAWC,IAAsByB,SAClC,yBAAK1B,UAAWC,IAAsB0B,kBAClC,yBAAK3B,UAAWC,IAAsBT,UACjCV,GAAS,uBAAGkB,UAAWC,IAAsB2B,OAAQ9C,GACtD,+BACKY,EACD,+BACKF,KAIb,yBAAKQ,UAAWC,IAAsB4B,OAAQd,QA9B1C,WACCe,OAAOC,KAAKvB,GAAOJ,QAAO,SAAC4B,EAAKC,GAAN,OAAgBD,EAAMxB,EAAMyB,KAAQ,GAE3E3C,EAAMD,kBAAkBmB,GAExBZ,EAASO,IAA6B,MA0B1B,kBAAC,IAAD,CAAQc,MAAM,SAASiB,SAAoB,KAAVpD,IAAiBQ,EAAMJ,SAAWiB,IAAc,GAAG,kBAAC,IAAD","file":"static/js/13.a6544462.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Service\":\"services_Service__semjy\",\"SerivcesSettings\":\"services_SerivcesSettings__3_4xT\",\"fade\":\"services_fade__2-ZEr\",\"Services\":\"services_Services__1tJgG\",\"TableHeader\":\"services_TableHeader__2Q83q\",\"Button\":\"services_Button__zgQCi\",\"Available\":\"services_Available__3FCCl\",\"error\":\"services_error__3ktJi\",\"fade-right\":\"services_fade-right__2yTB1\",\"border-bottom\":\"services_border-bottom__3nwDv\"};","import React, { useState, useEffect, useCallback, JSXElementConstructor } from 'react';\nimport { Redirect } from 'react-router';\nimport { connect } from \"react-redux\";\n\nimport SerivcesSettingsStyle from './services.module.scss';\nimport { MdAddShoppingCart, MdRemoveShoppingCart } from 'react-icons/md';\nimport { ArrowNext } from '../../../assets';\nimport * as language from '../../../assets/index'\n\nimport { setServiceToQueue } from \"../../../store/index\"\nimport { getServices, getMat, getError, getLoading } from \"../../../store/selectors\";\n\nimport { Service, ServiceListQueue } from '../../../models';\nimport { Button } from '../../../models/ui';\n\ninterface StateProps {\n    services: Service[],\n    error: string,\n    loading: boolean,\n    mat: boolean[][]\n}\n\ninterface DispatchProps {\n    setServiceToQueue: typeof setServiceToQueue;\n}\ntype Props = DispatchProps & StateProps;\n\nconst SerivceComp: React.FC<Props> = (props) => {\n\n    const [Services, setServices] = useState<JSX.Element[]>([]);\n    const [header, setHeader] = useState<JSX.Element>();\n    const [error, setError] = useState<string | null>(null);\n    useEffect(() => {\n        setHeader(settingHeader())\n\n    }, []);\n    const settingHeader = useCallback(() => (\n        <thead className={SerivcesSettingsStyle.TableHeader}>\n            <tr>\n                <th>{language.serviceName[1]}</th>\n                <th>{language.price[1]}</th>\n                <th>{language.duration[1]}</th>\n                <th>{language.commands[1]}</th>\n            </tr>\n        </thead>\n    ), []);\n\n    const [count, setCount] = useState(props.services\n        .reduce((json: any, s: Service) => { json[s._id] = 0; return json; }, {})\n    );\n    const increaseService = (_id: string) => {\n        setError(\"\")\n        setCount({ ...count, [_id]: count[_id] + 1 })\n    }\n    const decreaseService = (_id: string) => {\n        const temp = count[_id] > 1 ? count[_id] - 1 : 0;\n        setCount({ ...count, [_id]: temp })\n    }\n    useEffect(() => {\n        setServices(\n            props.services.map((s: Service) => {\n                const _id = s._id || \"0\";\n                return (\n                    <tr key={_id}>\n                        <td>{s.title}</td>\n                        <td>â‚ª{s.price}</td>\n                        <td>{s.duration}</td>\n                        <td>\n                            <MdAddShoppingCart onClick={() => increaseService(_id)} color=\"#7467ef\" />\n                            {count[_id]}\n                            <MdRemoveShoppingCart onClick={() => decreaseService(_id)} color=\"#e62163\" />\n                        </td>\n                    </tr>)\n            }\n            )\n        )\n    }, [count]);\n\n    const onClickNext = () => {\n        const duration = Object.keys(count).reduce((acc, index) => acc + count[index], 0)\n        if (duration)\n            props.setServiceToQueue(count)\n        else\n            setError(language.chooseMinOneService[1])\n\n    };\n    const [redirect, setRedirect] = useState<JSX.Element>();\n\n    useEffect(() => {\n        error != null && error === '' && setRedirect(\n            <Redirect to={localStorage.getItem('domain') + \"/calendar\"} />)\n\n    }, [props.mat]);\n\n    return (\n        <React.Fragment>\n            {redirect}\n            <div className={SerivcesSettingsStyle.Service}>\n                <div className={SerivcesSettingsStyle.SerivcesSettings}>\n                    <div className={SerivcesSettingsStyle.Services}>\n                        {error && <p className={SerivcesSettingsStyle.Error}>{error}</p>}\n                        <table>\n                            {header}\n                            <tbody>\n                                {Services}\n                            </tbody>\n                        </table>\n                    </div>\n                    <div className={SerivcesSettingsStyle.Button} onClick={onClickNext}>\n                        <Button color=\"purple\" disabled={error === \"\" && !props.loading} >{language.next[1]}<ArrowNext /></Button>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\nconst mapStateToProps = (state: any) => ({\n    services: getServices(state),\n    error: getError(state),\n    mat: getMat(state),\n    loading: getLoading(state)\n\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n    setServiceToQueue: (services: ServiceListQueue) => dispatch(setServiceToQueue(services)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(SerivceComp);\n\n"],"sourceRoot":""}