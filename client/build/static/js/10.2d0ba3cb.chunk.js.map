{"version":3,"sources":["models/ui/input/input.tsx","models/ui/input/utility/validator.input.ts","models/ui/input/inputs.tsx","models/ui/button/button.module.scss","models/ui/input/utility/input-types.input.ts","models/ui/input/input-border.module.scss","models/ui/input/input-line.module.scss","store/business/data/data.selectors.ts","models/ui/modal/modal.tsx","models/ui/modal/modal.module.scss","store/business/data/action/client/queue.data.actions.ts","containers/business/calendar/calendar.module.scss","containers/business/calendar/components/add-new-queue/add-new-queue.module.scss","containers/business/calendar/components/helper.ts","containers/business/calendar/components/add-new-queue/add-new-queue.calendar.tsx","containers/business/calendar/calendar.business.tsx","models/ui/button/button.tsx"],"names":["Input","props","inputElement","scssFile","class","InputLinetyle","inputStyle","elementType","className","InputItem","elementConfig","placeholder","label","value","onChange","changed","autoComplete","style","Label","htmlFor","name","lattersPattern","emailPattern","phonePattern","numberPattern","Inputs","useState","timeOut","setTimeOut","inputChangedHandler","e","inputIdentifier","ans","form","editable","rules","updatedFormElement","updateObject","target","error","validation","required","trim","language","isEnglish","test","maxLength","length","isEmail","isPhone","isNumeric","minLen","biggerThenZero","touched","updatedForm","formIsValid","Object","keys","every","inputChanged","Form","setForm","setError","clearTimeout","setTimeout","index","filter","it","valid","pop","formElementsArrayfunc","map","key","_id","config","formElement","invalid","shouldValidate","formElementsArray","setformElementsArray","useMemo","module","exports","password","type","phone","plainText","domain","email","getBusiness","state","data","business","getServices","services","getSchedule","schedule","getMat","mat","getDays","days","getDurationOfNewQueue","durationOfNewQueue","getStartMinTime","startMinTime","getTimeDistance","timeDistance","getPrice","price","Modal","color","modalStyle","ModalBackground","onClick","close","stopPropagation","Header","backgroundColor","title","Content","children","Footer","footer","setServiceToQueue","servicesList","dispatch","a","console","log","GeneralActionsEnum","START_QUEUE","API","post","localStorage","getItem","res","dataActionsEnum","SUCCESS_SET_CALENDAR","SUCCESS_QUEUE","falidQueueErrorHandler","updateScheduleWeek","queue","UPDATE_MATRIX","hebDays","NewQueue","day","moment","date","format","start","hour","end","add","duration","display","disabled","addNewEvent","NewQueueStyle","connect","person","getPerson","loading","getLoading","headerDays","setHeaderDays","useEffect","setAllDaysWeek","OpenModal","setOpenModal","Time","setTime","allDaysWeek","slots","setSlots","time","element","minutes","CalendarStyle","Hours","cursor","Slot","onSlotClick","Event","week","d","curMonth","useCallback","month","helper","Date","i","toString","Fragment","event","serviceId","clientId","Calendar","TableHeader","Button","border","background","ButtonStyle","Children"],"mappings":"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","file":"static/js/10.2d0ba3cb.chunk.js","sourcesContent":["import React from 'react';\nimport inputStyle from './input-border.module.scss';\nimport InputLinetyle from './input-line.module.scss';\n\n\ninterface OwnProps {\n    label: any;\n    name?: string;\n    value: any;\n    key: string;\n    elementType: string;\n    elementConfig: { type: string; placeholder: string };\n    shouldValidate: {};\n    invalid?: boolean;\n    touched?: boolean;\n    changed?: (e: any) => void;\n    type?: any;\n    style?: {};\n    class?: \"line\" | \"border\";\n    textArea?: boolean;\n}\nconst Input: React.FC<OwnProps> = (props) => {\n\n    let inputElement = null;\n    const scssFile = props.class === \"line\" ? InputLinetyle.Input : inputStyle.Input;\n\n    switch (props.elementType) {\n        case \"input\":\n            inputElement =\n                (\n                    <input\n                        className={props.class === \"line\" ? InputLinetyle.InputItem : inputStyle.InputItem}\n                        {...props.elementConfig}\n                        placeholder={props.label}\n                        value={props.value}\n                        onChange={props.changed}\n                        autoComplete=\"on\"\n                    />\n                );\n            break;\n        case \"textArea\":\n            inputElement =\n                (\n                    <textarea\n                        {...props.elementConfig}\n                        placeholder={props.label}\n                        value={props.value}\n                        onChange={props.changed}\n                    />\n                );\n            break;\n        case \"text\":\n            inputElement =\n                (\n                    <input\n                        className={props.class === \"line\" ? InputLinetyle.InputItem : inputStyle.InputItem}\n                        {...props.elementConfig}\n                        placeholder={props.label}\n                        value={props.value}\n\n\n                    />\n                );\n            break;\n    }\n\n    return (\n        <div style={props.style} className={scssFile}>\n            {/* {error} */}\n            {inputElement}\n            <label className={props.class === \"line\" ? InputLinetyle.Label : inputStyle.Label} htmlFor={props.name}>{props.label}</label>\n        </div>\n    );\n};\n\nexport default Input;\n","// import validator from \"validator\";\nimport * as language from \"../../../../assets/language/language\";\n\nconst lattersPattern = /^[a-zA-Z]+$/;\nconst emailPattern = /^\\S+@\\S+\\.\\S+$/;\nconst phonePattern = /\\(?([0-9]{3})\\)?([ .-]?)([0-9]{3})\\2([0-9]{4})/;\nconst numberPattern = /^\\d+$/;\n// const url = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g;\n\nexport const checkValidity = (value: any, rules: any) => {\n  if (!rules) {\n    return \"\";\n  } else if (rules.required && !(value.trim() !== \"\")) {\n    return language.lengthError[1];\n  } else if (rules.isEnglish && !lattersPattern.test(value)) {\n    return language.englishOnlyError[1];\n  } else if (rules.maxLength && value.length > rules.maxLength) {\n    return language.maxLengthError[1];\n  } else if (rules.isEmail && !emailPattern.test(value)) {\n    return language.emailError[1];\n  } else if (rules.isPhone && !phonePattern.test(value)) {\n    return language.phoneError[1];\n  } else if (rules.isNumeric && !numberPattern.test(value)) {\n    return language.numberError[1];\n  } else if (rules.minLen && value.length < rules.minLen) {\n    return \"שדה חייב להכיל לפחות \" + rules.minLen + \" תווים\";\n  } else if (rules.biggerThenZero && value <= 0) {\n    return \"שדה חייב להיות גדול מ- 0\";\n  }\n  return \"\";\n};\n// export const validationEmployee = (employee: Employee, validPassword?: string) => {\n//     const phone = /^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/;\n//     if (employee.password !== validPassword) {\n//         return language.confirmPasswordError[1];\n//     } else if (!phone.test(employee.phone)) {\n//         return language.phoneError[1];\n//     }\n//     return '';\n// }\n","import React, { useState, useMemo } from 'react';\n\nimport Input from './input';\n\nimport { checkValidity } from \"./utility/validator.input\";\nimport { updateObject } from '../../../assets/utility/utility';\n\nconst Inputs: React.FC<any> = (props: any) => {\n\n    const [timeOut, setTimeOut] = useState<any>(null);\n\n\n    const inputChanged = (form: any, e: any, inputIdentifier: any) => {\n        if (!form[inputIdentifier].editable) return false;\n        const updatedFormElement = updateObject(form[inputIdentifier], {\n            value: e.target.value,\n            error: checkValidity(e.target.value, form[inputIdentifier].validation),\n            touched: true,\n        });\n        const updatedForm = updateObject(form, {\n            [inputIdentifier]: updatedFormElement,\n        });\n\n        // true - valid , false - not valid\n        const formIsValid = Object.keys(updatedForm).every(\n            (e) => {\n                if (updatedForm[e].error.length > 0) return false;\n                return true;\n            }\n        );\n\n\n        return { updatedForm, formIsValid };\n    };\n\n\n\n\n    const inputChangedHandler = (e: any, inputIdentifier: any) => {\n        const ans = inputChanged(props.Form, e, inputIdentifier);\n        if (!ans) return;\n\n        props.setForm(ans.updatedForm);\n        props.setError(\"\")\n\n\n        if (timeOut) clearTimeout(timeOut);\n        setTimeOut(setTimeout(() => {\n            if (!ans.formIsValid) {\n                const index = Object.keys(ans.updatedForm).filter(it => !ans.updatedForm[it].valid && ans.updatedForm[it].touched).pop();\n                !index ? props.setError(\"\") : props.setError(ans.updatedForm[index].error)\n            }\n        }, 700))\n    }\n    const formElementsArrayfunc = () => Object.keys(props.Form).map((key) => {\n        return {\n            _id: key,\n            config: props.Form[key],\n        };\n    }).map((formElement: any) => (\n        <Input\n            key={formElement._id}\n            label={formElement.config.label}\n            style={formElement.config.style}\n            elementType={formElement.config.elementType}\n            elementConfig={formElement.config.elementConfig}\n            value={formElement.config.value}\n            invalid={!formElement.config.valid}\n            shouldValidate={formElement.config.validation}\n            touched={formElement.config.touched}\n            changed={(e) => inputChangedHandler(e, formElement._id)}\n            class={formElement.config.class}\n\n        />\n    ));\n\n    const [formElementsArray, setformElementsArray] = useState<any>(formElementsArrayfunc());\n    useMemo(() => {\n        setformElementsArray(formElementsArrayfunc())\n    }, [props.Form,]);\n\n    return (\n        <div>\n\n            {formElementsArray}\n\n        </div>\n    );\n};\n\nexport default Inputs;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__12KFr\",\"Children\":\"button_Children__1XN7I\",\"error\":\"button_error__1AWo5\",\"fade\":\"button_fade__1qxcJ\",\"fade-right\":\"button_fade-right__2s7wT\",\"border-bottom\":\"button_border-bottom__1OnfB\"};","import * as language from \"../../../../assets/language/language\";\n\nexport const password = {\n  elementType: \"input\",\n  elementConfig: {\n    type: \"password\",\n    placeholder: language.password[1],\n  },\n  value: \"\",\n  label: language.password[1],\n  name: language.password[1],\n  validation: {\n    required: true,\n    minLen: 6,\n  },\n  valid: false,\n  touched: false,\n  style: {},\n  error: \"\",\n  editable: true,\n  class: \"border\",\n};\n\nexport const phone = {\n  elementType: \"input\",\n  elementConfig: {\n    type: \"tel\",\n    placeholder: language.phone[1],\n  },\n  value: \"\",\n  label: language.phone[1],\n  name: language.phone[1],\n  validation: {\n    required: true,\n    isPhone: true,\n  },\n  valid: false,\n  touched: false,\n  style: {},\n  error: \"\",\n  editable: true,\n  class: \"border\",\n};\n\nexport const plainText = {\n  elementType: \"input\",\n  elementConfig: {\n    type: \"text\",\n    placeholder: language.firstName[1],\n  },\n  value: \"\",\n  label: language.firstName[1],\n  name: language.firstName[1],\n  validation: {\n    required: true,\n    minLen: 2,\n  },\n  valid: false,\n  touched: false,\n  style: {},\n  error: \"\",\n  class: \"border\",\n  editable: true,\n};\n\nexport const domain = {\n  elementType: \"input\",\n  elementConfig: {\n    type: \"text\",\n    placeholder: language.domainTitle[1],\n  },\n  value: \"\",\n  label: language.domainTitle[1],\n  name: language.domainTitle[1],\n  validation: {\n    required: true,\n    minLen: 2,\n    isEnglish: true,\n  },\n  valid: false,\n  touched: false,\n  style: {},\n  error: \"\",\n  class: \"border\",\n  editable: true,\n};\n\nexport const email = {\n  elementType: \"input\",\n  elementConfig: {\n    type: \"email\",\n    placeholder: language.email[1],\n  },\n  value: \"\",\n  label: language.email[1],\n  name: language.email[1],\n  validation: {\n    required: true,\n    isEmail: true,\n  },\n  valid: false,\n  touched: false,\n  error: \"\",\n  class: \"border\",\n  editable: true,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input-border_Input__3pQb5\",\"Label\":\"input-border_Label__1pXew\",\"InputItem\":\"input-border_InputItem__1T9G5\",\"Error\":\"input-border_Error__11UE4\",\"error\":\"input-border_error__tDmeR\",\"fade\":\"input-border_fade__C08sj\",\"fade-right\":\"input-border_fade-right__1U5EL\",\"border-bottom\":\"input-border_border-bottom__1m9gK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"input-line_Input__ry1AT\",\"InputItem\":\"input-line_InputItem__3LbEI\",\"Label\":\"input-line_Label__3iKPS\",\"error\":\"input-line_error__3Sx38\",\"fade\":\"input-line_fade__3KHvA\",\"fade-right\":\"input-line_fade-right__2JJv3\",\"border-bottom\":\"input-line_border-bottom__RjkMt\"};","export const getBusiness = (state: any) => state.data.business;\n\nexport const getServices = (state: any) => state.data.services;\nexport const getSchedule = (state: any) => state.data.schedule;\nexport const getMat = (state: any) => state.data.mat;\nexport const getDays = (state: any) => state.data.days;\nexport const getDurationOfNewQueue = (state: any) =>\n  state.data.durationOfNewQueue;\n\nexport const getStartMinTime = (state: any) => state.data.startMinTime;\nexport const getTimeDistance = (state: any) => state.data.timeDistance;\nexport const getPrice = (state: any) => state.data.price;\n","import React from \"react\";\nimport modalStyle from \"./modal.module.scss\";\n\ninterface OwnProps {\n  close?: () => void;\n  onClickButton?: () => void;\n  title?: string;\n  footer?: JSX.Element;\n  children: React.ReactNode\n  color?: 'purple' | 'orange' | 'purple-register';\n}\n\nconst Modal: React.FC<OwnProps> = props => {\n\n  const color = props.color === 'purple' ? '#7467ef' : props.color === 'orange' ? '#ff9e43' : '#7b1fa2'\n\n\n  return (\n    <div className={modalStyle.ModalBackground} onClick={props.close} >\n      <div className={modalStyle.Modal} onClick={(e: any) => { e.stopPropagation(); }}>\n        <div className={modalStyle.Header} style={props.color ? {backgroundColor: color} : {}}>\n          <h1>{props.title}</h1>\n          <span onClick={props.close}>&times;</span>\n        </div>\n        <div className={modalStyle.Content}>\n          {props.children}\n        </div>\n        <div className={modalStyle.Footer}>\n          {props.footer}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalBackground\":\"modal_ModalBackground__2C_zW\",\"Modal\":\"modal_Modal__1BHKF\",\"fadeIn\":\"modal_fadeIn__lXckO\",\"Header\":\"modal_Header__1Ro13\",\"Content\":\"modal_Content__zrPOg\",\"Text\":\"modal_Text__29-Ba\",\"Footer\":\"modal_Footer__3n9Bt\",\"error\":\"modal_error__2-rrt\",\"fade\":\"modal_fade__2Hq4N\",\"fade-right\":\"modal_fade-right__61Flh\",\"border-bottom\":\"modal_border-bottom__3LwuN\"};","import { Queue } from \"./../../../../../models/system/event\";\nimport { ServiceListQueue } from \"../../../../../models/system/service\";\nimport { dataActionsEnum } from \"../../data.types\";\nimport API from \"../../../../../models/axios/axios\";\n\nimport { GeneralActionsEnum } from \"../../../general/general.types\";\nimport { falidQueueErrorHandler } from \"../../../general/action/index.actions\";\n\nexport const setServiceToQueue = (servicesList: ServiceListQueue) => {\n  return async (dispatch: any) => {\n    try {\n      console.log(servicesList);\n\n      dispatch({ type: GeneralActionsEnum.START_QUEUE });\n      const res = await API.post(\n        localStorage.getItem(\"domain\") + \"/calendar/setServiceToQueue\",\n        servicesList\n      );\n      const mat = res.data.mat;\n      const days = res.data.days;\n      const startMinTime = res.data.startMinTime;\n      const timeDistance = res.data.timeDistance;\n      const durationOfNewQueue = res.data.durationOfNewQueue;\n      const price = res.data.price;\n\n      dispatch({\n        type: dataActionsEnum.SUCCESS_SET_CALENDAR,\n        mat,\n        days,\n        durationOfNewQueue,\n        startMinTime,\n        timeDistance,\n        price,\n      });\n\n      dispatch({ type: GeneralActionsEnum.SUCCESS_QUEUE });\n      return;\n    } catch (error) {\n      falidQueueErrorHandler(dispatch, error);\n    }\n  };\n};\n\nexport const updateScheduleWeek = (queue: Queue) => {\n  return async (dispatch: any) => {\n    try {\n      console.log(queue);\n\n      dispatch({ type: GeneralActionsEnum.START_QUEUE });\n      const res = await API.post(\n        localStorage.getItem(\"domain\") + \"/calendar\",\n        queue\n      );\n      dispatch({\n        type: dataActionsEnum.UPDATE_MATRIX,\n        queue,\n      });\n      console.log(res.data);\n      return dispatch({\n        type: GeneralActionsEnum.SUCCESS_QUEUE,\n      });\n    } catch (error) {\n      falidQueueErrorHandler(dispatch, error);\n    }\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Calendar\":\"calendar_Calendar__2cL5o\",\"Header\":\"calendar_Header__1lHmd\",\"Content\":\"calendar_Content__3Mu4e\",\"TableHeader\":\"calendar_TableHeader__1Suok\",\"Hours\":\"calendar_Hours__2w-Di\",\"Slot\":\"calendar_Slot__1pRln\",\"Event\":\"calendar_Event__1G8af\",\"NoWork\":\"calendar_NoWork__2R4ba\",\"error\":\"calendar_error__36zqy\",\"fade\":\"calendar_fade__3xsbL\",\"fade-right\":\"calendar_fade-right__2ST3I\",\"border-bottom\":\"calendar_border-bottom__3jBST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewQueue\":\"add-new-queue_NewQueue__SJ18V\",\"error\":\"add-new-queue_error__3nZ_c\",\"fade\":\"add-new-queue_fade__Xtr_6\",\"fade-right\":\"add-new-queue_fade-right__2Mwgl\",\"border-bottom\":\"add-new-queue_border-bottom__2EAqO\"};","import moment from \"moment\";\n\nexport const dateformat = \"yyyy/MM/DD\";\nexport const eventFormat = \"YYYY-MM-DD HH:mm\";\nexport const hebDays = [\"א'\", \"ב'\", \"ג'\", \"ד'\", \"ה'\", \"ו'\", \"ש'\"];\n\n// Get week number and return all the days of week\nexport const getWeekDaysByWeekNumber = (weeknumber?: number, sch?: any) => {\n  const week = Object.keys(sch)\n    .filter((s) => sch[s].length > 0)\n    .map((a) => +a);\n  // : [0];\n\n  var date = moment()\n      .isoWeek(weeknumber || 1)\n      .startOf(\"week\"),\n    days = [];\n  date.add(week[0], \"day\");\n\n  let add = 0;\n  for (let i = 0; i < week.length; i++) {\n    add = i !== 0 ? week[i] - week[i - 1] : 0;\n    date.add(add, \"day\");\n\n    days.push(date.format(dateformat));\n  }\n  return days;\n};\n\nexport const monthHebToEng = (month: string) => {\n  switch (month) {\n    case \"ינואר\":\n      return \"January\";\n    case \"פבואר\":\n      return \"February\";\n    case \"מרץ\":\n      return \"March\";\n    case \"אפריל\":\n      return \"May\";\n    case \"מאי\":\n      return \"May\";\n    case \"יוני\":\n      return \"June\";\n    case \"יולי\":\n      return \"July\";\n    case \"אוגוסט\":\n      return \"August\";\n    case \"ספטמבר\":\n      return \"September\";\n    case \"אוקטובר\":\n      return \"October\";\n    case \"נובמבר\":\n      return \"November\";\n    case \"דצמבר\":\n      return \"December\";\n  }\n};\n\nexport const monthNumberToHeb = (month: number): string => {\n  switch (month) {\n    case 1:\n      return \"ינואר\";\n    case 2:\n      return \"פבואר\";\n    case 3:\n      return \"מרץ\";\n    case 4:\n      return \"אפריל\";\n    case 5:\n      return \"מאי\";\n    case 6:\n      return \"יוני\";\n    case 7:\n      return \"יולי\";\n    case 8:\n      return \"אוגוסט\";\n    case 9:\n      return \"ספטמבר\";\n    case 10:\n      return \"אוקטובר\";\n    case 11:\n      return \"נובמבר\";\n    default:\n      return \"דצמבר\";\n  }\n};\n\n// Dictionary of events - id: Week Number , value: Array of events such that place i in the array represent a day\n// (0 - Sunday... 2 - thursday). Every day its a dictionary of events such that the key is the start hour and the value is the event.\n// export const events: { [weekNumber: number]: { [startHour: string]: Event }[] } = {}\n\n// events[24] = new Array(7)\n// events[21] = new Array(7)\n// events[22] = new Array(7)\n// events[23] = new Array(7)\n\n// const sunday: { [startHour: string]: Event } = {}; // All the events in sunday, week 20.\n// const monday: { [startHour: string]: Event } = {};\n// const wensday: { [startHour: string]: Event } = {};\n\n// sunday['14:45'] = {\n//     id: 1,\n//     title: 'תור ראשון',\n//     employeeId: 1,\n//     clientPhone: \"0502243024\",\n//     start: moment(\"2020-06-10 14:45\").format(eventFormat),\n//     end: moment(\"2020-06-10 15:30\").format(eventFormat)\n// }\n\n// monday['07:45'] = {\n//     id: 2,\n//     title: 'תור שני',\n//     employeeId: 1,\n//     clientPhone: \"0502243024\",\n//     start: moment(\"2020-06-11 07:45\").format(eventFormat),\n//     end: moment(\"2020-06-11 08:00\").format(eventFormat)\n// }\n\n// wensday['11:45'] = {\n//     id: 3,\n//     title: 'תור שלישי',\n//     employeeId: 1,\n//     clientPhone: \"0502243024\",\n//     start: moment(\"2020-06-12 11:45\").format(eventFormat),\n//     end: moment(\"2020-06-12 12:45\").format(eventFormat)\n// }\n\n// wensday['13:45'] = {\n//     id: 3,\n//     title: 'תור רביעי',\n//     employeeId: 1,\n//     clientPhone: \"0502243024\",\n//     start: moment(\"2020-06-12 13:45\").format(eventFormat),\n//     end: moment(\"2020-06-12 15:00\").format(eventFormat)\n// }\n\n// events[24][0] = sunday;\n// events[24][1] = monday;\n// events[24][3] = wensday;\n\n// events[21] = new Array(7);\n// const sundayWeek21: { [startHour: string]: Event } = {}; // All the events in sunday week 21\n\n// sundayWeek21['08:45'] = {\n//     id: 4,\n//     title: 'תור חמישי',\n//     employeeId: 1,\n//     clientPhone: \"0502243024\",\n//     start: moment(\"2020-05-17 08:45\").format(eventFormat),\n//     end: moment(\"2020-05-17 10:45\").format(eventFormat)\n// }\n// events[21][0] = sundayWeek21;\n","import React, { useState } from 'react';\nimport NewQueueStyle from './add-new-queue.module.scss';\nimport Modal from '../../../../../models/ui/modal/modal';\nimport Button from '../../../../../models/ui/button/button';\nimport moment from 'moment';\nimport { plainText } from '../../../../../models/ui/input/utility/input-types.input';\nimport Inputs from '../../../../../models/ui/input/inputs';\n\ninterface OwnProps {\n    close: () => void;\n    addNewEvent: () => void;\n    date: { date: string, hour: string },\n    duration: number,\n    price: number,\n}\n\nconst NewQueue: React.FC<OwnProps> = (props) => {\n    const [Form, setForm] = useState<any>({\n        day: { ...plainText, value: moment(props.date.date, \"yyyy/MM/DD\").format(\"DD/MM/yyyy\"), editable: false, label: \"תאריך\" },\n        start: {\n            ...plainText, value: props.date.hour, editable: false, label: \"שעת התחלה\"\n        },\n        end: {\n            ...plainText, value: moment(props.date.hour, \"HH:mm\").add(props.duration, 'm').format(\"HH:mm\"), editable: false, label: \"שעת סיום\"\n        },\n        price: {\n            ...plainText, value: props.price, editable: false, label: \"מחיר\"\n        },\n    });\n    const [error, setError] = useState<string>(\"\");\n\n\n\n\n    const updateDetails = () => {\n        props.addNewEvent();\n        props.close();\n    }\n\n\n\n    const footer = (\n        <div style={{ display: 'flex' }}>\n            <Button color=\"purple\" disabled={true} onClick={() => updateDetails()}>שמור</Button>\n            <Button color=\"purple\" disabled={true} onClick={() => props.close()}>בטל</Button>\n        </div>\n\n    )\n    return (\n        <div className={NewQueueStyle.NewQueue}>\n            <Modal title=\"קביעת תור\" close={props.close} footer={footer} >\n\n                <Inputs\n                    Form={Form} setForm={setForm} error={error} setError={setError}\n                />\n            </Modal>\n        </div>\n    )\n}\n\n\nexport default NewQueue;","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport CalendarStyle from './calendar.module.scss';\nimport moment from 'moment';\nimport * as helper from './components/helper';\nimport { Queue } from '../../../models/system/event';\nimport Button from '../../../models/ui/button/button';\nimport NewQueue from './components/add-new-queue/add-new-queue.calendar';\nimport { connect } from 'react-redux';\nimport { getDurationOfNewQueue, getPrice } from '../../../store/business/data/data.selectors';\nimport { Service } from '../../../models/system/service';\nimport { getServices, getMat, getDays, getStartMinTime, getTimeDistance } from '../../../store/business/data/data.selectors';\n\nimport { getPerson } from '../../../store/business/auth/auth.selectors';\nimport { Client } from '../../../models/system/persones';\nimport { updateScheduleWeek } from '../../../store/business/data/action/client/queue.data.actions';\nimport { getLoading } from '../../../store/business/general';\n\n\n\ninterface StateProps {\n    services: Service[],\n    person: Client,\n    days: [],\n    mat: boolean[][],\n    startMinTime: number,\n    loading: boolean,\n    timeDistance: number,\n    durationOfNewQueue: number,\n    price: number,\n}\n\ninterface DispatchProps {\n    updateScheduleWeek: typeof updateScheduleWeek;\n}\n\ntype Props = DispatchProps & StateProps;\nconst CalendarUser: React.FC<Props> = (props) => {\n    const [headerDays, setHeaderDays] = useState<JSX.Element[]>();\n\n    useEffect(() => {\n\n        setHeaderDays(days())\n        setAllDaysWeek(props.days)\n    }, [props.mat])\n\n\n\n    const [OpenModal, setOpenModal] = useState<boolean>(false)\n    const [Time, setTime] = useState<{ date: string, hour: string }>({ date: \"\", hour: \"\" });\n\n\n\n\n\n\n\n    const [allDaysWeek, setAllDaysWeek] = useState<string[]>(props.days)\n    const [slots, setSlots] = useState<any>(null)\n\n    // Hold the table\n    useEffect(() => {\n\n        let time: number = 0;\n        setSlots(\n            props.mat.map(element => {\n                const hour = moment(props.startMinTime, \"HH:mm\").minutes(time).format(\"HH:mm\");\n                time += props.timeDistance;\n                return element.every(e => !e) ? null :\n                    (\n                        <tr key={hour}>\n                            <td className={CalendarStyle.Hours} style={{ cursor: 'initial' }}>{hour}</td>\n                            {\n                                element.map((day: boolean, index: number) => {\n                                    if (!day) {\n                                        return (\n                                            <td key={hour + ',' + props.days[index]} className={CalendarStyle.Slot + \" \" + CalendarStyle.Event}\n                                                style={{ cursor: \"not-allowed\" }}>\n                                            </td>\n                                        );\n                                    }\n                                    return (\n                                        <td key={hour + ',' + props.days[index]} className={CalendarStyle.Slot} onClick={() => onSlotClick(hour, props.days[index])}></td>\n                                    );\n                                })\n                            }\n                        </tr>\n                    );\n            })\n        )\n    }, [props.mat, props.startMinTime]);\n\n    ;\n\n    const addNewEvent = () => {\n\n        const event: Queue = {\n            serviceId: props.services[0]._id || \"\",\n            clientId: props.person._id || \"\",\n            day: Time.date,\n            hour: Time.hour,\n            duration: props.durationOfNewQueue\n        }\n        props.updateScheduleWeek(event)\n    }\n\n    const onSlotClick = (hour: string, date: string) => {\n        setOpenModal(true);\n        setTime({ date, hour });\n    }\n\n    const week = props.days.map(d => moment(d).day())\n\n    // Return days and dats(The first row of table)\n    const curMonth = useCallback(() => (\n        helper.monthNumberToHeb(moment(new Date()).month() + 1)\n    ), []);\n    const days = useCallback(() => (\n        allDaysWeek.map((day: string, i: number) => {\n            return (\n                <th key={day}>\n                    {helper.hebDays[week[i]]}\n                    <br />\n                    {moment(day.toString(), \"yyyy/MM/DD\").format('DD/MM')}\n                </th>\n            );\n        })\n    ), []);\n\n    return props.loading ? <p>loading ....</p>\n        : (\n            <React.Fragment>\n                {OpenModal && <NewQueue date={Time} close={() => setOpenModal(false)}\n                    addNewEvent={addNewEvent} duration={props.durationOfNewQueue} price={props.price} />}\n                <div className={CalendarStyle.Calendar}>\n                    <div className={CalendarStyle.Header}>\n                        {/* <Button color='orange' disabled={true} onClick={() => props.updateWeekNumber(props.weekNumber - 1)}>שבוע קודם</Button>\n                    <Button color='purple' disabled={true} onClick={() => props.updateWeekNumber(parseInt(moment(new Date()).format('WW')))}>שבוע נוכחי</Button>\n                    <Button color='orange' disabled={true} onClick={() => props.updateWeekNumber(props.weekNumber + 1)}>שבוע הבא</Button> */}\n\n                    </div>\n                    <div className={CalendarStyle.Content}>\n                        <table >\n                            <tbody>\n                                <tr>\n                                    <th className={CalendarStyle.TableHeader}>\n                                        {curMonth()}\n                                    </th>\n                                    {headerDays}\n                                </tr>\n                                {slots}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n}\n\nconst mapStateToProps = (state: any) => ({\n    services: getServices(state),\n    person: getPerson(state),\n    days: getDays(state),\n    mat: getMat(state),\n\n    startMinTime: getStartMinTime(state),\n    loading: getLoading(state),\n    timeDistance: getTimeDistance(state),\n    durationOfNewQueue: getDurationOfNewQueue(state),\n    price: getPrice(state),\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    updateScheduleWeek: (queue: Queue) => dispatch(updateScheduleWeek(queue)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(CalendarUser);","import React from \"react\";\nimport ButtonStyle from \"./button.module.scss\";\n\ninterface OwnProps {\n  onClick?: (e?: any) => void;\n  color: \"purple\" | \"orange\" | \"purple-register\";\n  border?: boolean;\n  disabled?: boolean;\n  style?: {}\n}\n\nconst Button: React.FC<OwnProps> = (props) => {\n  const color =\n    props.color === \"purple\"\n      ? \"#7467ef\"\n      : props.color === \"orange\"\n        ? \"#ff9e43\"\n        : \"#7b1fa2\";\n\n  return (\n    <button\n      disabled={!props.disabled}\n      style={\n        props.border\n          ? { border: \"1px solid \" + color, color: color, background: \"none\" }\n          : { background: color }\n      }\n      className={ButtonStyle.Button}\n      onClick={props.onClick}\n    >\n      <div className={ButtonStyle.Children}>\n        {props.children}\n      </div>\n    </button>\n  );\n};\n\nexport default Button;\n"],"sourceRoot":""}