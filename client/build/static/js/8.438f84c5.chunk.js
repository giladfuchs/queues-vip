(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[8],{100:function(e,t,n){"use strict";var r=n(20),a=n(25),o=n(1),u=n.n(o),i=n(104),c=n.n(i),s=n(105),l=n.n(s),d=function(e){var t=null,n="line"===e.class?l.a.Input:c.a.Input;switch(e.elementType){case"input":t=u.a.createElement("input",Object.assign({className:"line"===e.class?l.a.InputItem:c.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed,autoComplete:"on"}));break;case"textArea":t=u.a.createElement("textarea",Object.assign({},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed}));break;case"text":t=u.a.createElement("input",Object.assign({className:"line"===e.class?l.a.InputItem:c.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value}))}return u.a.createElement("div",{style:e.style,className:n},t,u.a.createElement("label",{className:"line"===e.class?l.a.Label:c.a.Label,htmlFor:e.name},e.label))},p=n(6),f=/^[a-zA-Z]+$/,m=/^\S+@\S+\.\S+$/,b=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,_=/^\d+$/,v=n(3);t.a=function(e){var t=Object(o.useState)(null),n=Object(a.a)(t,2),i=n[0],c=n[1],s=function(t,n){var a=function(e,t,n){if(!e[n].editable)return!1;var a,o,u=Object(v.c)(e[n],{value:t.target.value,error:(a=t.target.value,o=e[n].validation,o?o.required&&""===a.trim()?p.G[1]:o.isEnglish&&!f.test(a)?p.x[1]:o.maxLength&&a.length>o.maxLength?p.O[1]:o.isEmail&&!m.test(a)?p.w[1]:o.isPhone&&!b.test(a)?p.V[1]:o.isNumeric&&!_.test(a)?p.R[1]:o.minLen&&a.length<o.minLen?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea "+o.minLen+" \u05ea\u05d5\u05d5\u05d9\u05dd":o.biggerThenZero&&a<=0?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc \u05de- 0":"":""),touched:!0}),i=Object(v.c)(e,Object(r.a)({},n,u)),c=Object.keys(i).every((function(e){return!(i[e].error.length>0)}));return{updatedForm:i,formIsValid:c}}(e.Form,t,n);a&&(e.setForm(a.updatedForm),e.setError(""),i&&clearTimeout(i),c(setTimeout((function(){if(!a.formIsValid){var t=Object.keys(a.updatedForm).filter((function(e){return!a.updatedForm[e].valid&&a.updatedForm[e].touched})).pop();t?e.setError(a.updatedForm[t].error):e.setError("")}}),700)))},l=function(){return Object.keys(e.Form).map((function(t){return{_id:t,config:e.Form[t]}})).map((function(e){return u.a.createElement(d,{key:e._id,label:e.config.label,style:e.config.style,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return s(t,e._id)},class:e.config.class})}))},h=Object(o.useState)(l()),g=Object(a.a)(h,2),S=g[0],T=g[1];return Object(o.useMemo)((function(){T(l())}),[e.Form]),u.a.createElement("div",null,S)}},101:function(e,t,n){e.exports={Button:"button_Button__12KFr",Children:"button_Children__1XN7I",error:"button_error__1AWo5",fade:"button_fade__1qxcJ","fade-right":"button_fade-right__2s7wT","border-bottom":"button_border-bottom__1OnfB"}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(110),a=n.n(r),o=n(111),u=n.n(o),i=n(112),c=n.n(i),s=(a.a,u.a);c.a},103:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(6),a={elementType:"input",elementConfig:{type:"password",placeholder:r.T[1]},value:"",label:r.T[1],name:r.T[1],validation:{required:!0,minLen:6},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},o={elementType:"input",elementConfig:{type:"tel",placeholder:r.U[1]},value:"",label:r.U[1],name:r.U[1],validation:{required:!0,isPhone:!0},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},u={elementType:"input",elementConfig:{type:"text",placeholder:r.z[1]},value:"",label:r.z[1],name:r.z[1],validation:{required:!0,minLen:2},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},i={elementType:"input",elementConfig:{type:"text",placeholder:r.t[1]},value:"",label:r.t[1],name:r.t[1],validation:{required:!0,minLen:2,isEnglish:!0},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},c={elementType:"input",elementConfig:{type:"email",placeholder:r.v[1]},value:"",label:r.v[1],name:r.v[1],validation:{required:!0,isEmail:!0},valid:!1,touched:!1,error:"",class:"border",editable:!0}},104:function(e,t,n){e.exports={Input:"input-border_Input__3pQb5",Label:"input-border_Label__1pXew",InputItem:"input-border_InputItem__1T9G5",Error:"input-border_Error__11UE4",error:"input-border_error__tDmeR",fade:"input-border_fade__C08sj","fade-right":"input-border_fade-right__1U5EL","border-bottom":"input-border_border-bottom__1m9gK"}},105:function(e,t,n){e.exports={Input:"input-line_Input__ry1AT",InputItem:"input-line_InputItem__3LbEI",Label:"input-line_Label__3iKPS",error:"input-line_error__3Sx38",fade:"input-line_fade__3KHvA","fade-right":"input-line_fade-right__2JJv3","border-bottom":"input-line_border-bottom__RjkMt"}},106:function(e,t,n){"use strict";var r=n(3);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var a=n(6);n.d(t,"c",(function(){return a.m})),n.d(t,"d",(function(){return a.p})),n.d(t,"e",(function(){return a.u})),n.d(t,"f",(function(){return a.z})),n.d(t,"g",(function(){return a.F})),n.d(t,"h",(function(){return a.I})),n.d(t,"i",(function(){return a.K})),n.d(t,"j",(function(){return a.P})),n.d(t,"k",(function(){return a.W})),n.d(t,"l",(function(){return a.Y})),n.d(t,"m",(function(){return a.Z})),n.d(t,"n",(function(){return a.bb})),n.d(t,"o",(function(){return a.cb}));n(102)},107:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return _}));var r=n(12),a=n(36),o=n.n(a),u=n(42),i=n(13),c=n(35),s=n(2),l=n(26),d=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.a.START_AUTH}),e.next=4,c.a.get("business/auth/check");case 4:return n=e.sent,r=n.data.domains,t({type:i.a.SET_DOMAINS,domains:r}),t({type:s.a.SUCCESS_AUTH}),e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),Object(l.b)(t,e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var a,u,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.a.START_AUTH}),t.next=4,c.a.post("business/auth/first-register",e);case 4:return a=t.sent,delete(u=Object(r.a)(Object(r.a)({},a.data.employee),{},{firstName:a.data.authPass}))._id,d={_id:a.data.employee._id,details:u},n({type:i.a.SET_PERSON,person:d}),n({type:s.a.INCREMENT}),n({type:s.a.SUCCESS_AUTH}),t.abrupt("return");case 14:t.prev=14,t.t0=t.catch(0),Object(l.b)(n,t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.a.START_AUTH}),t.next=4,c.a.post("business/auth/approve-first-register",e);case 4:return r=t.sent,a=r.data.token,localStorage.setItem("token",a),localStorage.setItem("isAdmin","true"),n({type:s.a.INCREMENT}),n({type:s.a.SUCCESS_SET_TOKEN}),t.abrupt("return");case 13:t.prev=13,t.t0=t.catch(0),Object(l.b)(n,t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.a.START_AUTH}),t.next=4,c.a.post("business/auth/login",e);case 4:return r=t.sent,a=r.data.token,u=r.data.domain,localStorage.setItem("token",a),localStorage.setItem("domain",u),localStorage.setItem("isAdmin","true"),n({type:s.a.SUCCESS_SET_TOKEN}),t.abrupt("return");case 14:t.prev=14,t.t0=t.catch(0),Object(l.b)(n,t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.a.START_AUTH}),t.next=4,c.a.post("business/auth/sendResetMessage",{phone:e});case 4:return r=t.sent,console.log(r.data.token),t.abrupt("return",n({type:s.a.SUCCESS_SEND_TOKEN_MSG}));case 9:t.prev=9,t.t0=t.catch(0),Object(l.b)(n,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e,t){return function(){var n=Object(u.a)(o.a.mark((function n(r){var a,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.a.START_AUTH}),n.next=4,c.a.post("business/auth/resetPassword/"+t,e);case 4:return a=n.sent,u=a.data.domain,localStorage.setItem("token",a.data.token),localStorage.setItem("domain",u),localStorage.setItem("isAdmin","true"),r({type:s.a.SUCCESS_SET_TOKEN}),n.abrupt("return");case 13:n.prev=13,n.t0=n.catch(0),Object(l.b)(r,n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}},109:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(113),u=n.n(o);t.a=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:u.a.Header},a.a.createElement("p",{className:u.a.Title},e.title),a.a.createElement("p",{className:u.a.SubTitle},e.subTitle)),e.error&&a.a.createElement("p",{className:u.a.Error},e.error))}},110:function(e,t,n){e.exports=n.p+"static/media/dreamer.1427b7a9.svg"},111:function(e,t,n){e.exports=n.p+"static/media/posting_photo.ee01a6cb.svg"},112:function(e,t,n){e.exports=n.p+"static/media/404.6695af99.svg"},113:function(e,t,n){e.exports={Header:"form-header_Header__1g4LA",fade:"form-header_fade__2N8to",Title:"form-header_Title__3zsuu",SubTitle:"form-header_SubTitle__1WOD_",Error:"form-header_Error__h4nTg","fade-right":"form-header_fade-right__288WU",error:"form-header_error__FWWvp","border-bottom":"form-header_border-bottom__2bwK7"}},125:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.b})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m.f}));var r=n(13),a=(n(44),n(43)),o=(n(45),n(36)),u=n.n(o),i=n(42),c=n(35),s=n(2),l=n(26),d=function(e,t){return function(){var n=Object(i.a)(u.a.mark((function n(r){var a,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.a.START_AUTH}),n.next=4,c.a.post(t+"/auth/register",e);case 4:return a=n.sent,localStorage.clear(),o=a.data.token,localStorage.setItem("token",o),localStorage.setItem("domain",t),r({type:s.a.SUCCESS_SET_TOKEN}),n.abrupt("return");case 13:n.prev=13,n.t0=n.catch(0),Object(l.b)(r,n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(i.a)(u.a.mark((function n(r){var a,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.a.START_AUTH}),n.next=4,c.a.post(e+"/auth/login",{phone:t});case 4:return a=n.sent,o=a.data.token,localStorage.clear(),localStorage.setItem("token",o),localStorage.setItem("domain",e),r({type:s.a.SUCCESS_SET_TOKEN}),n.abrupt("return");case 13:n.prev=13,n.t0=n.catch(0),Object(l.b)(r,n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(i.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.a.START_AUTH}),t.next=4,c.a.get(e+"/check");case 4:return localStorage.setItem("url",e),n({type:r.a.DOMAIN_IS_VALID}),n({type:s.a.SUCCESS_AUTH}),t.abrupt("return");case 10:t.prev=10,t.t0=t.catch(0),Object(l.b)(n,t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},m=n(107)},128:function(e,t,n){e.exports={Button:"business-login_Button__2I3QD",fade:"business-login_fade__1S2sE",Form:"business-login_Form__3RPFG",Register:"business-login_Register__DtMGG",Timeline:"business-login_Timeline__1Jgra",Form2:"business-login_Form2__FsXlD",Body:"business-login_Body__3hV_3",error:"business-login_error__1Fbuf","fade-right":"business-login_fade-right__UJ0tm","border-bottom":"business-login_border-bottom__3pFBK"}},153:function(e,t,n){"use strict";n.r(t);var r=n(25),a=n(1),o=n.n(a),u=n(128),i=n.n(u),c=n(27),s=n(29),l=n(99),d=n(125),p=n(14),f=n(109),m=n(106),b=n(100),_=n(103);t.default=Object(c.b)((function(e){return{loading:Object(s.d)(e),error:Object(s.b)(e),isLogin:Object(s.e)(e),isValidDomain:Object(d.b)(e)}}),(function(e){return{checkDomainIsValid:function(t){return e(Object(d.a)(t))},loginDomainClient:function(t,n){return e(Object(d.c)(t,n))}}}))((function(e){Object(a.useEffect)((function(){e.checkDomainIsValid(e.match.params.domain)}),[]);var t=Object(a.useState)({phone:_.d}),n=Object(r.a)(t,2),u=n[0],c=n[1],s=Object(a.useState)(""),d=Object(r.a)(s,2),v=d[0],h=d[1],g=Object(a.useState)(null),S=Object(r.a)(g,2),T=S[0],E=S[1];return Object(a.useEffect)((function(){if(e.isLogin){var t=e.match.params.domain;E(o.a.createElement(p.a,{to:t}))}}),[e.isLogin]),o.a.createElement("div",{className:i.a.Register},T,o.a.createElement("div",{className:i.a.Form2+" "+i.a.Form},o.a.createElement(f.a,{title:m.h[1],subTitle:m.i[1],error:v||e.error}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.Body},o.a.createElement(b.a,{Form:u,setForm:c,error:v,setError:h})),e.isValidDomain&&!e.loading?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.Button},o.a.createElement(l.a,{color:"purple-register",onClick:function(){return function(){var t=e.match.params.domain;e.loginDomainClient(t,u.phone.value)}()},disabled:""===v},"\u05d4\u05ea\u05d7\u05d1\u05e8"))):e.isValidDomain&&o.a.createElement("div",null,"Loading...")))," :")}))},99:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(101),u=n.n(o);t.a=function(e){var t="purple"===e.color?"#7467ef":"orange"===e.color?"#ff9e43":"#7b1fa2";return a.a.createElement("button",{disabled:!e.disabled,style:e.border?{border:"1px solid "+t,color:t,background:"none"}:{background:t},className:u.a.Button,onClick:e.onClick},a.a.createElement("div",{className:u.a.Children},e.children))}}}]);
//# sourceMappingURL=8.438f84c5.chunk.js.map