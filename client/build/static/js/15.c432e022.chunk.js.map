{"version":3,"sources":["containers/domain/auth/domain-login/business-login.module.scss","containers/domain/auth/domain-login/client-register.domain.tsx"],"names":["module","exports","connect","state","loading","getLoading","error","getError","isSetToken","getIsTokenSet","isValidDomain","getIsValidDomain","isLogin","getisLogin","dispatch","checkDomainIsValid","domain","registerDomainClient","client","props","useState","firstName","plainText","elementConfig","type","placeholder","language","label","lastName","phone","Form","setForm","setError","redirect","setRedirect","useEffect","url","match","params","to","className","classes","Register","Form2","title","subTitle","Fragment","Body","Button","color","onClick","Object","assign","keys","map","k","value","onClickNext","disabled"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,OAAS,+BAA+B,KAAO,6BAA6B,KAAO,6BAA6B,SAAW,iCAAiC,SAAW,iCAAiC,MAAQ,8BAA8B,KAAO,6BAA6B,MAAQ,8BAA8B,aAAa,mCAAmC,gBAAgB,wC,2LCgI3XC,uBAbS,SAACC,GAAD,MAAiB,CACrCC,QAASC,YAAWF,GACpBG,MAAOC,YAASJ,GAChBK,WAAYC,YAAcN,GAC1BO,cAAeC,YAAiBR,GAChCS,QAASC,YAAWV,OAGG,SAACW,GAAD,MAAoB,CAC3CC,mBAAoB,SAACC,GAAD,OAAoBF,EAASC,YAAmBC,KACpEC,qBAAsB,SAACC,EAAgBF,GAAjB,OAAoCF,EAASG,YAAqBC,EAAQF,QAGrFd,EA9FyB,SAACiB,GAAW,IAAD,EAGvBC,mBAAc,CAClCC,UAAU,2BACHC,aADE,IACSC,cAAe,CACzBC,KAAM,OACNC,YAAaC,IAAmB,IAEpCC,MAAOD,IAAmB,KAE9BE,SAAS,2BACFN,aADC,IACUC,cAAe,CACzBC,KAAM,OACNC,YAAaC,IAAkB,IAEnCC,MAAOD,IAAkB,KAE7BG,gBAlB2C,mBAGxCC,EAHwC,KAGlCC,EAHkC,OAqBrBX,mBAAiB,IArBI,mBAqBxCd,EArBwC,KAqBjC0B,EArBiC,OAoCfZ,mBAAc,MApCC,mBAoCxCa,EApCwC,KAoC9BC,EApC8B,KA6C/C,OARAC,qBAAU,WAEN,IAAMC,EAAMjB,EAAMkB,MAAMC,OAAOtB,OAC/BG,EAAMP,SAAWsB,EACb,kBAAC,IAAD,CAAUK,GAAI,IAAMH,OACzB,CAACjB,EAAMX,aAIN,yBAAKgC,UAAWC,IAAQC,UACnBT,EACAd,EAAMT,cAAgB,yBACnB8B,UAAWC,IAAQE,MAAQ,IAAMF,IAAQX,MAEzC,kBAAC,IAAD,CACIc,MAAOlB,IAA0B,GACjCmB,SAAUnB,IAAuB,GACjCpB,MAAOA,GAAgBa,EAAMb,QAGjC,kBAAC,IAAMwC,SAAP,KACI,yBAAKN,UAAWC,IAAQM,MACpB,kBAAC,IAAD,CACIjB,KAAMA,EAAMC,QAASA,EAASzB,MAAOA,EAAO0B,SAAUA,KAK5Db,EAAMf,QAOA,2CANJ,kBAAC,IAAM0C,SAAP,KACI,yBAAKN,UAAWC,IAAQO,QACpB,kBAAC,IAAD,CAAQC,MAAM,kBAAkBC,QAAS,kBA7CjD,WAChB,IAAMlC,EAASG,EAAMkB,MAAMC,OAAOtB,OAG5BE,EAASiC,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,mBACdA,OAAOE,KAAKvB,GAAMwB,KAAI,SAACC,GAAD,sBAAWA,EAAIzB,EAAKyB,GAAGC,aAMpDrC,EAAMF,qBAAqBC,EAAQF,GAkCoCyC,IAAeC,SAAoB,KAAVpD,GAAxE,sCAQhB","file":"static/js/15.c432e022.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"business-login_Button__2I3QD\",\"fade\":\"business-login_fade__1S2sE\",\"Form\":\"business-login_Form__3RPFG\",\"Register\":\"business-login_Register__DtMGG\",\"Timeline\":\"business-login_Timeline__1Jgra\",\"Form2\":\"business-login_Form2__FsXlD\",\"Body\":\"business-login_Body__3hV_3\",\"error\":\"business-login_error__1Fbuf\",\"fade-right\":\"business-login_fade-right__UJ0tm\",\"border-bottom\":\"business-login_border-bottom__3pFBK\"};","import React, { useState, useEffect } from \"react\";\nimport classes from './business-login.module.scss'\nimport { connect } from \"react-redux\";\nimport { getLoading, getError, getIsTokenSet, getisLogin, } from \"../../../../store/business/general/index\";\nimport Button from \"../../../../models/ui/button/button\";\nimport { registerDomainClient, checkDomainIsValid, getIsValidDomain } from \"../../../../store/business/auth/index\";\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\nimport AuthenticationHeadrer from \"../../../shared/header/form-header\";\nimport * as language from \"../../../../assets/index\";\nimport Inputs from \"../../../../models/ui/input/inputs\";\n\nimport { phone, plainText, Client } from \"../../../../models/index\";\n\n\ninterface MatchParams {\n    domain: string;\n\n}\ninterface Params extends RouteComponentProps<MatchParams> { }\n\n\ninterface StateProps {\n    loading: boolean;\n    error: string;\n    isSetToken: boolean;\n    isValidDomain: boolean\n    isLogin: boolean\n}\n\ninterface DispatchProps {\n    checkDomainIsValid: typeof checkDomainIsValid;\n    registerDomainClient: typeof registerDomainClient;\n}\ntype Props = DispatchProps & StateProps & Params;\n\nconst DomainRegister: React.FC<Props> = (props) => {\n\n\n    const [Form, setForm] = useState<any>({\n        firstName: {\n            ...plainText, elementConfig: {\n                type: \"text\",\n                placeholder: language.firstName[1],\n            },\n            label: language.firstName[1],\n        },\n        lastName: {\n            ...plainText, elementConfig: {\n                type: \"text\",\n                placeholder: language.lastName[1],\n            },\n            label: language.lastName[1],\n        },\n        phone,\n    });\n\n    const [error, setError] = useState<string>(\"\");\n\n    const onClickNext = () => {\n        const domain = props.match.params.domain;\n\n\n        const client = Object.assign({},\n            ...Object.keys(Form).map((k) => ({ [k]: Form[k].value }))\n        );\n\n\n\n\n        props.registerDomainClient(client, domain);\n    };\n    const [redirect, setRedirect] = useState<any>(null);\n    useEffect(() => {\n        // console.log( props.history.push());\n        const url = props.match.params.domain;\n        props.isLogin && setRedirect(\n            <Redirect to={'/' + url} />)\n    }, [props.isSetToken]);\n\n\n    return (\n        <div className={classes.Register}>\n            {redirect}\n            {props.isValidDomain ? <div\n                className={classes.Form2 + \" \" + classes.Form}\n            >\n                <AuthenticationHeadrer\n                    title={language.loginDomainTitle[1]}\n                    subTitle={language.loginSubTitle[1]}\n                    error={error ? error : props.error}\n                />\n\n                <React.Fragment>\n                    <div className={classes.Body}>\n                        <Inputs\n                            Form={Form} setForm={setForm} error={error} setError={setError}\n                        />\n\n\n                    </div>\n                    {!props.loading ? (\n                        <React.Fragment>\n                            <div className={classes.Button}>\n                                <Button color=\"purple-register\" onClick={() => onClickNext()} disabled={error === \"\"}>התחבר</Button>\n                            </div>\n                        </React.Fragment>\n                    ) : (\n                            <div>Loading...</div>\n                        )}\n                </React.Fragment>\n            </div> :\n                <p>mistake</p>}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state: any) => ({\n    loading: getLoading(state),\n    error: getError(state),\n    isSetToken: getIsTokenSet(state),\n    isValidDomain: getIsValidDomain(state),\n    isLogin: getisLogin(state)\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    checkDomainIsValid: (domain: string) => dispatch(checkDomainIsValid(domain)),\n    registerDomainClient: (client: Client, domain: string) => dispatch(registerDomainClient(client, domain)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(DomainRegister);\n"],"sourceRoot":""}