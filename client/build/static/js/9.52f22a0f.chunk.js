(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{100:function(e,t,r){"use strict";var a=r(20),n=r(25),o=r(1),i=r.n(o),c=r(104),l=r.n(c),s=r(105),u=r.n(s),d=function(e){var t=null,r="line"===e.class?u.a.Input:l.a.Input;switch(e.elementType){case"input":t=i.a.createElement("input",Object.assign({className:"line"===e.class?u.a.InputItem:l.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed,autoComplete:"on"}));break;case"textArea":t=i.a.createElement("textarea",Object.assign({},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed}));break;case"text":t=i.a.createElement("input",Object.assign({className:"line"===e.class?u.a.InputItem:l.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value}))}return i.a.createElement("div",{style:e.style,className:r},t,i.a.createElement("label",{className:"line"===e.class?u.a.Label:l.a.Label,htmlFor:e.name},e.label))},m=r(6),b=/^[a-zA-Z]+$/,p=/^\S+@\S+\.\S+$/,_=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,f=/^\d+$/,g=r(3);t.a=function(e){var t=Object(o.useState)(null),r=Object(n.a)(t,2),c=r[0],l=r[1],s=function(t,r){var n=function(e,t,r){if(!e[r].editable)return!1;var n,o,i=Object(g.c)(e[r],{value:t.target.value,error:(n=t.target.value,o=e[r].validation,o?o.required&&""===n.trim()?m.G[1]:o.isEnglish&&!b.test(n)?m.x[1]:o.maxLength&&n.length>o.maxLength?m.O[1]:o.isEmail&&!p.test(n)?m.w[1]:o.isPhone&&!_.test(n)?m.V[1]:o.isNumeric&&!f.test(n)?m.R[1]:o.minLen&&n.length<o.minLen?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea "+o.minLen+" \u05ea\u05d5\u05d5\u05d9\u05dd":o.biggerThenZero&&n<=0?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc \u05de- 0":"":""),touched:!0}),c=Object(g.c)(e,Object(a.a)({},r,i)),l=Object.keys(c).every((function(e){return!(c[e].error.length>0)}));return{updatedForm:c,formIsValid:l}}(e.Form,t,r);n&&(e.setForm(n.updatedForm),e.setError(""),c&&clearTimeout(c),l(setTimeout((function(){if(!n.formIsValid){var t=Object.keys(n.updatedForm).filter((function(e){return!n.updatedForm[e].valid&&n.updatedForm[e].touched})).pop();t?e.setError(n.updatedForm[t].error):e.setError("")}}),700)))},u=function(){return Object.keys(e.Form).map((function(t){return{_id:t,config:e.Form[t]}})).map((function(e){return i.a.createElement(d,{key:e._id,label:e.config.label,style:e.config.style,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return s(t,e._id)},class:e.config.class})}))},v=Object(o.useState)(u()),O=Object(n.a)(v,2),h=O[0],j=O[1];return Object(o.useMemo)((function(){j(u())}),[e.Form]),i.a.createElement("div",null,h)}},101:function(e,t,r){e.exports={Button:"button_Button__12KFr",Children:"button_Children__1XN7I",error:"button_error__1AWo5",fade:"button_fade__1qxcJ","fade-right":"button_fade-right__2s7wT","border-bottom":"button_border-bottom__1OnfB"}},103:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));var a=r(6),n={elementType:"input",elementConfig:{type:"password",placeholder:a.T[1]},value:"",label:a.T[1],name:a.T[1],validation:{required:!0,minLen:6},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},o={elementType:"input",elementConfig:{type:"tel",placeholder:a.U[1]},value:"",label:a.U[1],name:a.U[1],validation:{required:!0,isPhone:!0},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},i={elementType:"input",elementConfig:{type:"text",placeholder:a.z[1]},value:"",label:a.z[1],name:a.z[1],validation:{required:!0,minLen:2},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},c={elementType:"input",elementConfig:{type:"text",placeholder:a.t[1]},value:"",label:a.t[1],name:a.t[1],validation:{required:!0,minLen:2,isEnglish:!0},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},l={elementType:"input",elementConfig:{type:"email",placeholder:a.v[1]},value:"",label:a.v[1],name:a.v[1],validation:{required:!0,isEmail:!0},valid:!1,touched:!1,error:"",class:"border",editable:!0}},104:function(e,t,r){e.exports={Input:"input-border_Input__3pQb5",Label:"input-border_Label__1pXew",InputItem:"input-border_InputItem__1T9G5",Error:"input-border_Error__11UE4",error:"input-border_error__tDmeR",fade:"input-border_fade__C08sj","fade-right":"input-border_fade-right__1U5EL","border-bottom":"input-border_border-bottom__1m9gK"}},105:function(e,t,r){e.exports={Input:"input-line_Input__ry1AT",InputItem:"input-line_InputItem__3LbEI",Label:"input-line_Label__3iKPS",error:"input-line_error__3Sx38",fade:"input-line_fade__3KHvA","fade-right":"input-line_fade-right__2JJv3","border-bottom":"input-line_border-bottom__RjkMt"}},107:function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"a",(function(){return b})),r.d(t,"c",(function(){return p})),r.d(t,"e",(function(){return _})),r.d(t,"f",(function(){return f}));var a=r(12),n=r(36),o=r.n(n),i=r(42),c=r(13),l=r(35),s=r(2),u=r(26),d=function(){return function(){var e=Object(i.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.a.START_AUTH}),e.next=4,l.a.get("business/auth/check");case 4:return r=e.sent,a=r.data.domains,t({type:c.a.SET_DOMAINS,domains:a}),t({type:s.a.SUCCESS_AUTH}),e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(0),Object(u.b)(t,e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var n,i,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.a.START_AUTH}),t.next=4,l.a.post("business/auth/first-register",e);case 4:return n=t.sent,delete(i=Object(a.a)(Object(a.a)({},n.data.employee),{},{firstName:n.data.authPass}))._id,d={_id:n.data.employee._id,details:i},r({type:c.a.SET_PERSON,person:d}),r({type:s.a.INCREMENT}),r({type:s.a.SUCCESS_AUTH}),t.abrupt("return");case 14:t.prev=14,t.t0=t.catch(0),Object(u.b)(r,t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.a.START_AUTH}),t.next=4,l.a.post("business/auth/approve-first-register",e);case 4:return a=t.sent,n=a.data.token,localStorage.setItem("token",n),localStorage.setItem("isAdmin","true"),r({type:s.a.INCREMENT}),r({type:s.a.SUCCESS_SET_TOKEN}),t.abrupt("return");case 13:t.prev=13,t.t0=t.catch(0),Object(u.b)(r,t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,n,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.a.START_AUTH}),t.next=4,l.a.post("business/auth/login",e);case 4:return a=t.sent,n=a.data.token,i=a.data.domain,localStorage.setItem("token",n),localStorage.setItem("domain",i),localStorage.setItem("isAdmin","true"),r({type:s.a.SUCCESS_SET_TOKEN}),t.abrupt("return");case 14:t.prev=14,t.t0=t.catch(0),Object(u.b)(r,t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:s.a.START_AUTH}),t.next=4,l.a.post("business/auth/sendResetMessage",{phone:e});case 4:return a=t.sent,console.log(a.data.token),t.abrupt("return",r({type:s.a.SUCCESS_SEND_TOKEN_MSG}));case 9:t.prev=9,t.t0=t.catch(0),Object(u.b)(r,t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(){var r=Object(i.a)(o.a.mark((function r(a){var n,i;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:s.a.START_AUTH}),r.next=4,l.a.post("business/auth/resetPassword/"+t,e);case 4:return n=r.sent,i=n.data.domain,localStorage.setItem("token",n.data.token),localStorage.setItem("domain",i),localStorage.setItem("isAdmin","true"),a({type:s.a.SUCCESS_SET_TOKEN}),r.abrupt("return");case 13:r.prev=13,r.t0=r.catch(0),Object(u.b)(a,r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));return function(e){return r.apply(this,arguments)}}()}},109:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o=r(113),i=r.n(o);t.a=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:i.a.Header},n.a.createElement("p",{className:i.a.Title},e.title),n.a.createElement("p",{className:i.a.SubTitle},e.subTitle)),e.error&&n.a.createElement("p",{className:i.a.Error},e.error))}},113:function(e,t,r){e.exports={Header:"form-header_Header__1g4LA",fade:"form-header_fade__2N8to",Title:"form-header_Title__3zsuu",SubTitle:"form-header_SubTitle__1WOD_",Error:"form-header_Error__h4nTg","fade-right":"form-header_fade-right__288WU",error:"form-header_error__FWWvp","border-bottom":"form-header_border-bottom__2bwK7"}},131:function(e,t,r){e.exports={Manager:"employee-registration_Manager__2kqhf",fade:"employee-registration_fade__2d6d7",Body:"employee-registration_Body__2DUB5",Buttons:"employee-registration_Buttons__2fx8P",Buttons2:"employee-registration_Buttons2__2TWDA",Error:"employee-registration_Error__30FCg","fade-right":"employee-registration_fade-right__30byE",BodyDomain:"employee-registration_BodyDomain__2VNJt",ButtonDomain:"employee-registration_ButtonDomain__3f5Oq",PhoneValidation:"employee-registration_PhoneValidation__3HQsr",ButtonsPhoneValidation:"employee-registration_ButtonsPhoneValidation__1uxeP",error:"employee-registration_error__LTJ54","border-bottom":"employee-registration_border-bottom__bu38U"}},151:function(e,t,r){e.exports={Register:"business-register_Register__3ALls",Timeline:"business-register_Timeline__3RD3K",Form:"business-register_Form__2DFp-",Modal:"business-register_Modal__30CGC",Buttons:"business-register_Buttons__3dwYj",error:"business-register_error__1rE1-",fade:"business-register_fade__2Y63S","fade-right":"business-register_fade-right__3Icfn","border-bottom":"business-register_border-bottom__2Hc82"}},152:function(e,t,r){e.exports={Timeline:"timeline_Timeline__jMvsB",Progressbar:"timeline_Progressbar__Tg7Yy",Active:"timeline_Active__OIXp9",error:"timeline_error__1wvKT",fade:"timeline_fade__3e9cV","fade-right":"timeline_fade-right__2VQ_A","border-bottom":"timeline_border-bottom__1vQeY"}},161:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(151),i=r.n(o),c=r(15),l=r(27),s=r(17),u=r(20),d=r(21),m=r(12),b=r(25),p=r(6),_=r(131),f=r.n(_),g=r(99),v=r(107),O=r(109),h=r(103),j=r(100),E=r(26),y=Object(l.b)((function(e){return{loading:Object(s.d)(e),error:Object(s.a)(e)}}),(function(e){return{registerFirstEmployee:function(t){return e(Object(v.d)(t))},incrementent:function(){return e(Object(E.f)())},decrement:function(){return e(Object(E.a)())}}}))((function(e){var t=Object(a.useState)(),r=Object(b.a)(t,2),o=r[0],i=r[1],c=Object(a.useState)({firstName:Object(m.a)(Object(m.a)({},h.e),{},{elementConfig:{type:"text",placeholder:p.z[1]},value:"om",label:p.z[1]}),lastName:Object(m.a)(Object(m.a)({},h.e),{},{elementConfig:{type:"text",placeholder:p.F[1]},value:"aaa",label:p.F[1]}),phone:Object(m.a)(Object(m.a)({},h.d),{},{value:"0544446655"}),email:Object(m.a)(Object(m.a)({},h.b),{},{value:"igilfu@gmail.com"}),password:Object(m.a)({},h.c),validPassword:Object(m.a)(Object(m.a)({},h.c),{},{label:p.q[1],value:"asds@dd.com"})}),l=Object(b.a)(c,2),s=l[0],_=l[1];return n.a.createElement("div",{className:f.a.Manager},n.a.createElement(O.a,{title:p.N[1],subTitle:p.M[1],error:o||e.error}),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:f.a.Body},n.a.createElement(j.a,{Form:s,setForm:_,error:o,setError:i}),e.loading?n.a.createElement("div",null,"Loading..."):n.a.createElement("div",{className:f.a.Buttons2},n.a.createElement(g.a,{onClick:function(){return e.decrement()},color:"orange",disabled:!0},p.f[1]),n.a.createElement(g.a,{color:"purple-register",disabled:""===o,onClick:function(){var t=Object.assign.apply(Object,[{}].concat(Object(d.a)(Object.keys(s).map((function(e){return Object(u.a)({},e,s[e].value)})))));e.registerFirstEmployee(t)}},p.P[1])))))})),T=r(152),S=r.n(T),N=function(e){return n.a.createElement("div",{className:S.a.Timeline},n.a.createElement("ul",{className:S.a.Progressbar},n.a.createElement("li",{className:S.a.Active},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e2\u05e1\u05e7 \u05d7\u05d3\u05e9"),n.a.createElement("li",{className:e.step>1?S.a.Active:""},"\u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05e0\u05d4\u05dc"),n.a.createElement("li",{className:e.step>3?S.a.Active:""},"\u05e1\u05d9\u05d5\u05dd")))},C=r(43),I=Object(l.b)((function(e){return{loading:Object(s.d)(e),error:Object(s.a)(e),domains:Object(C.a)(e)}}),(function(e){return{getAllDomains:function(){return e(Object(v.b)())},incrementent:function(){return e(Object(E.f)())}}}))((function(e){var t=Object(a.useState)({domain:Object(m.a)(Object(m.a)({},h.a),{},{validation:{required:!0,minLen:2,isEnglish:!0}})}),r=Object(b.a)(t,2),o=r[0],i=r[1],c=Object(a.useState)(),l=Object(b.a)(c,2),s=l[0],_=l[1];Object(a.useEffect)((function(){e.getAllDomains()}),[]),Object(a.useEffect)((function(){""!==s||e.domains.every((function(e){return e!==o.domain.value}))||_(p.r[1])}),[o]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(O.a,{title:p.c[1],subTitle:p.s[1],error:s||e.error}),n.a.createElement("div",{className:f.a.BodyDomain},n.a.createElement(j.a,{Form:o,setForm:i,error:s,setError:_})),e.loading?n.a.createElement("div",{style:{textAlign:"center"}},"Loading..."):n.a.createElement("div",{className:f.a.ButtonDomain,onClick:function(){if(""===s){var t=Object.assign.apply(Object,[{}].concat(Object(d.a)(Object.keys(o).map((function(e){return Object(u.a)({},e,o[e].value)})))));localStorage.setItem("domain",t.domain),e.incrementent()}}},n.a.createElement(g.a,{color:"purple-register",disabled:""===s},p.P[1])))})),k=Object(l.b)((function(e){return{loading:Object(s.d)(e),error:Object(s.a)(e),person:Object(C.c)(e)}}),(function(e){return{decrement:function(){return e(Object(E.a)())},incrementent:function(){return e(Object(E.f)())},aprroveRegisterFirstEmployee:function(t){return e(Object(v.a)(t))}}}))((function(e){var t=Object(a.useState)(),r=Object(b.a)(t,2),o=r[0],i=r[1],c=Object(a.useState)({authPass:Object(m.a)(Object(m.a)({},h.e),{},{label:p.o[1],style:{width:"50%",margin:"auto"},value:e.person.details.firstName})}),l=Object(b.a)(c,2),s=l[0],_=l[1];return n.a.createElement("div",{className:f.a.PhoneValidation},n.a.createElement(j.a,{Form:s,setForm:_,error:o,setError:i}),n.a.createElement("div",{className:f.a.ButtonsPhoneValidation},n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{color:"orange",onClick:function(){return e.decrement()},disabled:!0},p.l[1]),n.a.createElement(g.a,{color:"purple-register",onClick:function(){var t=Object.assign.apply(Object,[{}].concat(Object(d.a)(Object.keys(s).map((function(e){return Object(u.a)({},e,s[e].value)}))))),r=e.person._id;e.aprroveRegisterFirstEmployee(Object(m.a)(Object(m.a)({},t),{},{_id:r}))},disabled:!0},p.P[1]))))}));t.default=Object(c.d)(Object(l.b)((function(e){return{loading:Object(s.d)(e),error:Object(s.a)(e),step:Object(s.e)(e)}}),(function(e){return{}})))((function(e){return Object(a.useEffect)((function(){}),[e.step]),n.a.createElement("div",{className:i.a.Register},n.a.createElement("div",{className:i.a.Timeline},n.a.createElement(N,{step:e.step})),n.a.createElement("div",{className:i.a.Form},1===e.step&&n.a.createElement(I,null),2===e.step&&n.a.createElement(y,null),3===e.step&&n.a.createElement(k,null),4===e.step&&n.a.createElement("div",null,"welcome")))}))},99:function(e,t,r){"use strict";var a=r(1),n=r.n(a),o=r(101),i=r.n(o);t.a=function(e){var t="purple"===e.color?"#7467ef":"orange"===e.color?"#ff9e43":"#7b1fa2";return n.a.createElement("button",{disabled:!e.disabled,style:e.border?{border:"1px solid "+t,color:t,background:"none"}:{background:t},className:i.a.Button,onClick:e.onClick},n.a.createElement("div",{className:i.a.Children},e.children))}}}]);
//# sourceMappingURL=9.52f22a0f.chunk.js.map