(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[10],{100:function(e,t,a){"use strict";var n=a(20),r=a(25),o=a(1),l=a.n(o),c=a(104),u=a.n(c),i=a(105),d=a.n(i),s=function(e){var t=null,a="line"===e.class?d.a.Input:u.a.Input;switch(e.elementType){case"input":t=l.a.createElement("input",Object.assign({className:"line"===e.class?d.a.InputItem:u.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed,autoComplete:"on"}));break;case"textArea":t=l.a.createElement("textarea",Object.assign({},e.elementConfig,{placeholder:e.label,value:e.value,onChange:e.changed}));break;case"text":t=l.a.createElement("input",Object.assign({className:"line"===e.class?d.a.InputItem:u.a.InputItem},e.elementConfig,{placeholder:e.label,value:e.value}))}return l.a.createElement("div",{style:e.style,className:a},t,l.a.createElement("label",{className:"line"===e.class?d.a.Label:u.a.Label,htmlFor:e.name},e.label))},m=a(6),b=/^[a-zA-Z]+$/,f=/^\S+@\S+\.\S+$/,_=/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/,p=/^\d+$/,v=a(3);t.a=function(e){var t=Object(o.useState)(null),a=Object(r.a)(t,2),c=a[0],u=a[1],i=function(t,a){var r=function(e,t,a){if(!e[a].editable)return!1;var r,o,l=Object(v.c)(e[a],{value:t.target.value,error:(r=t.target.value,o=e[a].validation,o?o.required&&""===r.trim()?m.G[1]:o.isEnglish&&!b.test(r)?m.x[1]:o.maxLength&&r.length>o.maxLength?m.O[1]:o.isEmail&&!f.test(r)?m.w[1]:o.isPhone&&!_.test(r)?m.V[1]:o.isNumeric&&!p.test(r)?m.R[1]:o.minLen&&r.length<o.minLen?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea "+o.minLen+" \u05ea\u05d5\u05d5\u05d9\u05dd":o.biggerThenZero&&r<=0?"\u05e9\u05d3\u05d4 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc \u05de- 0":"":""),touched:!0}),c=Object(v.c)(e,Object(n.a)({},a,l)),u=Object.keys(c).every((function(e){return!(c[e].error.length>0)}));return{updatedForm:c,formIsValid:u}}(e.Form,t,a);r&&(e.setForm(r.updatedForm),e.setError(""),c&&clearTimeout(c),u(setTimeout((function(){if(!r.formIsValid){var t=Object.keys(r.updatedForm).filter((function(e){return!r.updatedForm[e].valid&&r.updatedForm[e].touched})).pop();t?e.setError(r.updatedForm[t].error):e.setError("")}}),700)))},d=function(){return Object.keys(e.Form).map((function(t){return{_id:t,config:e.Form[t]}})).map((function(e){return l.a.createElement(s,{key:e._id,label:e.config.label,style:e.config.style,elementType:e.config.elementType,elementConfig:e.config.elementConfig,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,changed:function(t){return i(t,e._id)},class:e.config.class})}))},h=Object(o.useState)(d()),g=Object(r.a)(h,2),y=g[0],E=g[1];return Object(o.useMemo)((function(){E(d())}),[e.Form]),l.a.createElement("div",null,y)}},101:function(e,t,a){e.exports={Button:"button_Button__12KFr",Children:"button_Children__1XN7I",error:"button_error__1AWo5",fade:"button_fade__1qxcJ","fade-right":"button_fade-right__2s7wT","border-bottom":"button_border-bottom__1OnfB"}},103:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a(6),r={elementType:"input",elementConfig:{type:"password",placeholder:n.T[1]},value:"",label:n.T[1],name:n.T[1],validation:{required:!0,minLen:6},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},o={elementType:"input",elementConfig:{type:"tel",placeholder:n.U[1]},value:"",label:n.U[1],name:n.U[1],validation:{required:!0,isPhone:!0},valid:!1,touched:!1,style:{},error:"",editable:!0,class:"border"},l={elementType:"input",elementConfig:{type:"text",placeholder:n.z[1]},value:"",label:n.z[1],name:n.z[1],validation:{required:!0,minLen:2},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},c={elementType:"input",elementConfig:{type:"text",placeholder:n.t[1]},value:"",label:n.t[1],name:n.t[1],validation:{required:!0,minLen:2,isEnglish:!0},valid:!1,touched:!1,style:{},error:"",class:"border",editable:!0},u={elementType:"input",elementConfig:{type:"email",placeholder:n.v[1]},value:"",label:n.v[1],name:n.v[1],validation:{required:!0,isEmail:!0},valid:!1,touched:!1,error:"",class:"border",editable:!0}},104:function(e,t,a){e.exports={Input:"input-border_Input__3pQb5",Label:"input-border_Label__1pXew",InputItem:"input-border_InputItem__1T9G5",Error:"input-border_Error__11UE4",error:"input-border_error__tDmeR",fade:"input-border_fade__C08sj","fade-right":"input-border_fade-right__1U5EL","border-bottom":"input-border_border-bottom__1m9gK"}},105:function(e,t,a){e.exports={Input:"input-line_Input__ry1AT",InputItem:"input-line_InputItem__3LbEI",Label:"input-line_Label__3iKPS",error:"input-line_error__3Sx38",fade:"input-line_fade__3KHvA","fade-right":"input-line_fade-right__2JJv3","border-bottom":"input-line_border-bottom__RjkMt"}},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"h",(function(){return i})),a.d(t,"i",(function(){return d})),a.d(t,"e",(function(){return s}));var n=function(e){return e.data.business},r=function(e){return e.data.services},o=function(e){return e.data.schedule},l=function(e){return e.data.mat},c=function(e){return e.data.days},u=function(e){return e.data.durationOfNewQueue},i=function(e){return e.data.startMinTime},d=function(e){return e.data.timeDistance},s=function(e){return e.data.price}},118:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(122),l=a.n(o);t.a=function(e){var t="purple"===e.color?"#7467ef":"orange"===e.color?"#ff9e43":"#7b1fa2";return r.a.createElement("div",{className:l.a.ModalBackground,onClick:e.close},r.a.createElement("div",{className:l.a.Modal,onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:l.a.Header,style:e.color?{backgroundColor:t}:{}},r.a.createElement("h1",null,e.title),r.a.createElement("span",{onClick:e.close},"\xd7")),r.a.createElement("div",{className:l.a.Content},e.children),r.a.createElement("div",{className:l.a.Footer},e.footer)))}},122:function(e,t,a){e.exports={ModalBackground:"modal_ModalBackground__2C_zW",Modal:"modal_Modal__1BHKF",fadeIn:"modal_fadeIn__lXckO",Header:"modal_Header__1Ro13",Content:"modal_Content__zrPOg",Text:"modal_Text__29-Ba",Footer:"modal_Footer__3n9Bt",error:"modal_error__2-rrt",fade:"modal_fade__2Hq4N","fade-right":"modal_fade-right__61Flh","border-bottom":"modal_border-bottom__3LwuN"}},127:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return s}));var n=a(36),r=a.n(n),o=a(42),l=a(9),c=a(35),u=a(2),i=a(26),d=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n,o,d,s,m,b,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),a({type:u.a.START_QUEUE}),t.next=5,c.a.post(localStorage.getItem("domain")+"/calendar/setServiceToQueue",e);case 5:return n=t.sent,o=n.data.mat,d=n.data.days,s=n.data.startMinTime,m=n.data.timeDistance,b=n.data.durationOfNewQueue,f=n.data.price,a({type:l.a.SUCCESS_SET_CALENDAR,mat:o,days:d,durationOfNewQueue:b,startMinTime:s,timeDistance:m,price:f}),a({type:u.a.SUCCESS_QUEUE}),t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(0),Object(i.d)(a,t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(o.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),a({type:u.a.START_QUEUE}),t.next=5,c.a.post(localStorage.getItem("domain")+"/calendar",e);case 5:return n=t.sent,a({type:l.a.UPDATE_MATRIX,queue:e}),console.log(n.data),t.abrupt("return",a({type:u.a.SUCCESS_QUEUE}));case 11:t.prev=11,t.t0=t.catch(0),Object(i.d)(a,t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}},149:function(e,t,a){e.exports={Calendar:"calendar_Calendar__2cL5o",Header:"calendar_Header__1lHmd",Content:"calendar_Content__3Mu4e",TableHeader:"calendar_TableHeader__1Suok",Hours:"calendar_Hours__2w-Di",Slot:"calendar_Slot__1pRln",Event:"calendar_Event__1G8af",NoWork:"calendar_NoWork__2R4ba",error:"calendar_error__36zqy",fade:"calendar_fade__3xsbL","fade-right":"calendar_fade-right__2ST3I","border-bottom":"calendar_border-bottom__3jBST"}},150:function(e,t,a){e.exports={NewQueue:"add-new-queue_NewQueue__SJ18V",error:"add-new-queue_error__3nZ_c",fade:"add-new-queue_fade__Xtr_6","fade-right":"add-new-queue_fade-right__2Mwgl","border-bottom":"add-new-queue_border-bottom__2EAqO"}},163:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(1),o=a.n(r),l=a(149),c=a.n(l),u=a(28),i=a.n(u),d=["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9'"],s=a(12),m=a(150),b=a.n(m),f=a(118),_=a(99),p=a(103),v=a(100),h=function(e){var t=Object(r.useState)({day:Object(s.a)(Object(s.a)({},p.e),{},{value:i()(e.date.date,"yyyy/MM/DD").format("DD/MM/yyyy"),editable:!1,label:"\u05ea\u05d0\u05e8\u05d9\u05da"}),start:Object(s.a)(Object(s.a)({},p.e),{},{value:e.date.hour,editable:!1,label:"\u05e9\u05e2\u05ea \u05d4\u05ea\u05d7\u05dc\u05d4"}),end:Object(s.a)(Object(s.a)({},p.e),{},{value:i()(e.date.hour,"HH:mm").add(e.duration,"m").format("HH:mm"),editable:!1,label:"\u05e9\u05e2\u05ea \u05e1\u05d9\u05d5\u05dd"}),price:Object(s.a)(Object(s.a)({},p.e),{},{value:e.price,editable:!1,label:"\u05de\u05d7\u05d9\u05e8"})}),a=Object(n.a)(t,2),l=a[0],c=a[1],u=Object(r.useState)(""),d=Object(n.a)(u,2),m=d[0],h=d[1],g=o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(_.a,{color:"purple",disabled:!0,onClick:function(){return e.addNewEvent(),void e.close()}},"\u05e9\u05de\u05d5\u05e8"),o.a.createElement(_.a,{color:"purple",disabled:!0,onClick:function(){return e.close()}},"\u05d1\u05d8\u05dc"));return o.a.createElement("div",{className:b.a.NewQueue},o.a.createElement(f.a,{title:"\u05e7\u05d1\u05d9\u05e2\u05ea \u05ea\u05d5\u05e8",close:e.close,footer:g},o.a.createElement(v.a,{Form:l,setForm:c,error:m,setError:h})))},g=a(27),y=a(108),E=a(43),O=a(127),j=a(29);t.default=Object(g.b)((function(e){return{services:Object(y.g)(e),person:Object(E.c)(e),days:Object(y.b)(e),mat:Object(y.d)(e),startMinTime:Object(y.h)(e),loading:Object(j.d)(e),timeDistance:Object(y.i)(e),durationOfNewQueue:Object(y.c)(e),price:Object(y.e)(e)}}),(function(e){return{updateScheduleWeek:function(t){return e(Object(O.b)(t))}}}))((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],u=a[1];Object(r.useEffect)((function(){u(x()),j(e.days)}),[e.mat]);var s=Object(r.useState)(!1),m=Object(n.a)(s,2),b=m[0],f=m[1],_=Object(r.useState)({date:"",hour:""}),p=Object(n.a)(_,2),v=p[0],g=p[1],y=Object(r.useState)(e.days),E=Object(n.a)(y,2),O=E[0],j=E[1],C=Object(r.useState)(null),S=Object(n.a)(C,2),T=S[0],k=S[1];Object(r.useEffect)((function(){var t=0;k(e.mat.map((function(a){var n=i()(e.startMinTime,"HH:mm").minutes(t).format("HH:mm");return t+=e.timeDistance,a.every((function(e){return!e}))?null:o.a.createElement("tr",{key:n},o.a.createElement("td",{className:c.a.Hours,style:{cursor:"initial"}},n),a.map((function(t,a){return t?o.a.createElement("td",{key:n+","+e.days[a],className:c.a.Slot,onClick:function(){return N(n,e.days[a])}}):o.a.createElement("td",{key:n+","+e.days[a],className:c.a.Slot+" "+c.a.Event,style:{cursor:"not-allowed"}})})))})))}),[e.mat,e.startMinTime]);var N=function(e,t){f(!0),g({date:t,hour:e})},I=e.days.map((function(e){return i()(e).day()})),w=Object(r.useCallback)((function(){return function(e){switch(e){case 1:return"\u05d9\u05e0\u05d5\u05d0\u05e8";case 2:return"\u05e4\u05d1\u05d5\u05d0\u05e8";case 3:return"\u05de\u05e8\u05e5";case 4:return"\u05d0\u05e4\u05e8\u05d9\u05dc";case 5:return"\u05de\u05d0\u05d9";case 6:return"\u05d9\u05d5\u05e0\u05d9";case 7:return"\u05d9\u05d5\u05dc\u05d9";case 8:return"\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8";case 9:return"\u05e1\u05e4\u05d8\u05de\u05d1\u05e8";case 10:return"\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8";case 11:return"\u05e0\u05d5\u05d1\u05de\u05d1\u05e8";default:return"\u05d3\u05e6\u05de\u05d1\u05e8"}}(i()(new Date).month()+1)}),[]),x=Object(r.useCallback)((function(){return O.map((function(e,t){return o.a.createElement("th",{key:e},d[I[t]],o.a.createElement("br",null),i()(e.toString(),"yyyy/MM/DD").format("DD/MM"))}))}),[]);return e.loading?o.a.createElement("p",null,"loading ...."):o.a.createElement(o.a.Fragment,null,b&&o.a.createElement(h,{date:v,close:function(){return f(!1)},addNewEvent:function(){var t={serviceId:e.services[0]._id||"",clientId:e.person._id||"",day:v.date,hour:v.hour,duration:e.durationOfNewQueue};e.updateScheduleWeek(t)},duration:e.durationOfNewQueue,price:e.price}),o.a.createElement("div",{className:c.a.Calendar},o.a.createElement("div",{className:c.a.Header}),o.a.createElement("div",{className:c.a.Content},o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",{className:c.a.TableHeader},w()),l),T)))))}))},99:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(101),l=a.n(o);t.a=function(e){var t="purple"===e.color?"#7467ef":"orange"===e.color?"#ff9e43":"#7b1fa2";return r.a.createElement("button",{disabled:!e.disabled,style:e.border?{border:"1px solid "+t,color:t,background:"none"}:{background:t},className:l.a.Button,onClick:e.onClick},r.a.createElement("div",{className:l.a.Children},e.children))}}}]);
//# sourceMappingURL=10.c41d40bb.chunk.js.map