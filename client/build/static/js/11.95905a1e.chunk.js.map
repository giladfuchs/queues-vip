{"version":3,"sources":["containers/domain/auth/domain-login/business-login.module.scss","containers/domain/auth/domain-login/client-login.domain.tsx"],"names":["module","exports","connect","state","loading","getLoading","error","getError","isLogin","getisLogin","isValidDomain","getIsValidDomain","dispatch","checkDomainIsValid","domain","loginDomainClient","phone","props","useEffect","match","params","useState","form","setForm","setError","redirect","setRedirect","url","to","className","classes","Register","Form2","Form","join","title","language","subTitle","Fragment","Body","Button","color","onClick","value","onClickNext","disabled"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,OAAS,+BAA+B,KAAO,6BAA6B,KAAO,6BAA6B,SAAW,iCAAiC,SAAW,iCAAiC,MAAQ,8BAA8B,KAAO,6BAA6B,MAAQ,8BAA8B,aAAa,mCAAmC,gBAAgB,wC,6ICwG3XC,uBAZS,SAACC,GAAD,MAAiB,CACrCC,QAASC,YAAWF,GACpBG,MAAOC,YAASJ,GAChBK,QAASC,YAAWN,GACpBO,cAAeC,YAAiBR,OAGT,SAACS,GAAD,MAAoB,CAC3CC,mBAAoB,SAACC,GAAD,OAAoBF,EAASC,YAAmBC,KACpEC,kBAAmB,SAACD,EAAgBE,GAAjB,OAAmCJ,EAASG,YAAkBD,EAAQE,QAG9Ed,EAtEsB,SAACe,GAElCC,qBAAU,WACND,EAAMJ,mBAAmBI,EAAME,MAAMC,OAAON,UAC7C,IAJyC,MAKpBO,mBAAe,CACnC,YAAaL,UAN2B,mBAKrCM,EALqC,KAK/BC,EAL+B,OASlBF,mBAAiB,IATC,mBASrCf,EATqC,KAS9BkB,EAT8B,OAeZH,qBAfY,mBAerCI,EAfqC,KAe3BC,EAf2B,KA0B5C,OATAR,qBAAU,WAEN,IAAMS,EAAMV,EAAME,MAAMC,OAAON,OAC/BG,EAAMT,SAAWkB,EACb,kBAAC,IAAD,CAAUE,GAAID,OAEnB,CAACV,EAAMT,UAIN,yBAAKqB,UAAWC,IAAQC,UACnBN,EACD,yBACII,UAAW,CAACC,IAAQE,MAAOF,IAAQG,MAAMC,KAAK,MAE9C,kBAAC,IAAD,CACIC,MAAOC,IAA0B,GACjCC,SAAUD,IAAuB,GACjC9B,MAAOA,GAAgBW,EAAMX,QAGjC,kBAAC,IAAMgC,SAAP,KACI,yBAAKT,UAAWC,IAAQS,MACpB,kBAAC,IAAD,CACIjB,KAAMA,EAAMC,QAASA,EAASjB,MAAOA,EAAOkB,SAAUA,KAK7DP,EAAMP,gBAAkBO,EAAMb,QAAU,kBAAC,IAAMkC,SAAP,KACrC,yBAAKT,UAAWC,IAAQU,QACpB,kBAAC,IAAD,CAAQC,MAAM,kBAAkBC,QAAS,kBArC7C,WAChB,IAAM5B,EAASG,EAAME,MAAMC,OAAON,OAClCG,EAAMF,kBAAkBD,EAAQ,GAAKQ,EAAK,aAAaqB,OAmCYC,IAAeC,SAAoB,KAAVvC,GAAxE,oCAEYW,EAAMP,eAAiB,kBAAC,IAAD,QAvBvD","file":"static/js/11.95905a1e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"business-login_Button__2I3QD\",\"fade\":\"business-login_fade__1S2sE\",\"Form\":\"business-login_Form__3RPFG\",\"Register\":\"business-login_Register__DtMGG\",\"Timeline\":\"business-login_Timeline__1Jgra\",\"Form2\":\"business-login_Form2__FsXlD\",\"Body\":\"business-login_Body__3hV_3\",\"error\":\"business-login_error__1Fbuf\",\"fade-right\":\"business-login_fade-right__UJ0tm\",\"border-bottom\":\"business-login_border-bottom__3pFBK\"};","import React, { useState, useEffect } from \"react\";\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\n\nimport classes from './business-login.module.scss'\nimport { Button, AuthenticationHeadrer, Inputs, Loading } from \"../../../../models/ui\";\n\nimport * as language from \"../../../../assets/index\";\n\nimport { phone, Form } from \"../../../../models\";\n\nimport { getLoading, getError, getisLogin, getIsValidDomain } from \"../../../../store/selectors\";\nimport { loginDomainClient, checkDomainIsValid } from \"../../../../store/auth/index\";\n\ninterface MatchParams {\n    domain: string;\n\n}\ninterface Params extends RouteComponentProps<MatchParams> { }\n\n\ninterface StateProps {\n    loading: boolean;\n    error: string;\n    isLogin: boolean;\n    isValidDomain: boolean\n}\n\ninterface DispatchProps {\n    checkDomainIsValid: typeof checkDomainIsValid;\n    loginDomainClient: typeof loginDomainClient;\n}\ntype Props = DispatchProps & StateProps & Params;\n\nconst DomainLogin: React.FC<Props> = (props) => {\n\n    useEffect(() => {\n        props.checkDomainIsValid(props.match.params.domain)\n    }, []);\n    const [form, setForm] = useState<Form>({\n        \"tel-local\": phone,\n    });\n\n    const [error, setError] = useState<string>(\"\");\n\n    const onClickNext = () => {\n        const domain = props.match.params.domain;\n        props.loginDomainClient(domain, \"\" + form[\"tel-local\"].value);\n    };\n    const [redirect, setRedirect] = useState<JSX.Element>();\n\n    useEffect(() => {\n\n        const url = props.match.params.domain;\n        props.isLogin && setRedirect(\n            <Redirect to={url} />)\n\n    }, [props.isLogin]);\n\n\n    return (\n        <div className={classes.Register}>\n            {redirect}\n            <div\n                className={[classes.Form2, classes.Form].join(\" \")}\n            >\n                <AuthenticationHeadrer\n                    title={language.loginDomainTitle[1]}\n                    subTitle={language.loginSubTitle[1]}\n                    error={error ? error : props.error}\n                />\n\n                <React.Fragment>\n                    <div className={classes.Body}>\n                        <Inputs\n                            form={form} setForm={setForm} error={error} setError={setError}\n                        />\n\n\n                    </div>\n                    {props.isValidDomain && !props.loading ? <React.Fragment>\n                        <div className={classes.Button}>\n                            <Button color=\"purple-register\" onClick={() => onClickNext()} disabled={error === \"\"}>התחבר</Button>\n                        </div>\n                    </React.Fragment> : props.isValidDomain && <Loading />}\n                </React.Fragment>\n            </div> :\n\n        </div>\n    );\n};\n\nconst mapStateToProps = (state: any) => ({\n    loading: getLoading(state),\n    error: getError(state),\n    isLogin: getisLogin(state),\n    isValidDomain: getIsValidDomain(state)\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    checkDomainIsValid: (domain: string) => dispatch(checkDomainIsValid(domain)),\n    loginDomainClient: (domain: string, phone: string) => dispatch(loginDomainClient(domain, phone)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(DomainLogin);\n"],"sourceRoot":""}