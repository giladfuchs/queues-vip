{"version":3,"sources":["containers/domain/auth/domain-login/client-register.domain.tsx","containers/domain/auth/domain-login/business-login.module.scss"],"names":["connect","state","loading","getLoading","error","getError","isSetToken","getIsTokenSet","isValidDomain","getIsValidDomain","isLogin","getisLogin","dispatch","checkDomainIsValid","domain","registerDomainClient","client","props","useState","firstName","plainText","elementConfig","id","placeholder","language","label","lastName","phone","form","setForm","setError","redirect","setRedirect","useEffect","url","match","params","console","log","to","className","classes","Register","Form2","Form","join","title","subTitle","Fragment","Body","Button","color","onClick","Object","assign","keys","map","k","value","onClickNext","disabled","module","exports"],"mappings":"uOA4HeA,uBAbS,SAACC,GAAD,MAAiB,CACrCC,QAASC,YAAWF,GACpBG,MAAOC,YAASJ,GAChBK,WAAYC,YAAcN,GAC1BO,cAAeC,YAAiBR,GAChCS,QAASC,YAAWV,OAGG,SAACW,GAAD,MAAoB,CAC3CC,mBAAoB,SAACC,GAAD,OAAoBF,EAASC,YAAmBC,KACpEC,qBAAsB,SAACC,EAAgBF,GAAjB,OAAoCF,EAASG,YAAqBC,EAAQF,QAGrFd,EA7FyB,SAACiB,GAAW,IAAD,EAGvBC,mBAAe,CACnCC,UAAU,2BACHC,aADE,IACSC,cAAe,CACzBC,GAAI,QACJC,YAAaC,IAAmB,IAEpCC,MAAOD,IAAmB,KAE9BE,SAAS,2BACFN,aADC,IACUC,cAAe,CACzBC,GAAI,OACJC,YAAaC,IAAkB,IAEnCC,MAAOD,IAAkB,KAE7BG,gBAlB2C,mBAGxCC,EAHwC,KAGlCC,EAHkC,OAqBrBX,mBAAiB,IArBI,mBAqBxCd,EArBwC,KAqBjC0B,EArBiC,OAiCfZ,qBAjCe,mBAiCxCa,EAjCwC,KAiC9BC,EAjC8B,KA2C/C,OATAC,qBAAU,WAEN,IAAMC,EAAMjB,EAAMkB,MAAMC,OAAOtB,OAC/BuB,QAAQC,IAAIJ,GAEZjB,EAAMX,YAAc0B,EAChB,kBAAC,IAAD,CAAUO,GAAI,IAAML,OACzB,CAACjB,EAAMX,aAGN,yBAAKkC,UAAWC,IAAQC,UACnBX,EACAd,EAAMT,cAAgB,yBACnBgC,UAAW,CAACC,IAAQE,MAAOF,IAAQG,MAAMC,KAAK,MAE9C,kBAAC,IAAD,CACIC,MAAOtB,IAA0B,GACjCuB,SAAUvB,IAAuB,GACjCpB,MAAOA,GAAgBa,EAAMb,QAGjC,kBAAC,IAAM4C,SAAP,KACI,yBAAKR,UAAWC,IAAQQ,MAEpB,kBAAC,IAAD,CACIrB,KAAMA,EAAMC,QAASA,EAASzB,MAAOA,EAAO0B,SAAUA,KAK5Db,EAAMf,QAOA,kBAAC,IAAD,MANJ,kBAAC,IAAM8C,SAAP,KACI,yBAAKR,UAAWC,IAAQS,QACpB,kBAAC,IAAD,CAAQC,MAAM,kBAAkBC,QAAS,kBA5CjD,WAChB,IAAMtC,EAASG,EAAMkB,MAAMC,OAAOtB,OAG5BE,EAASqC,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,mBACdA,OAAOE,KAAK3B,GAAM4B,KAAI,SAACC,GAAD,sBAAmBA,EAAI7B,EAAK6B,GAAGC,aAG5DzC,EAAMF,qBAAqBC,EAAQF,GAoCoC6C,IAAeC,SAAoB,KAAVxD,GAAxE,sCAQhB,2C,oBCzGhByD,EAAOC,QAAU,CAAC,OAAS,+BAA+B,KAAO,6BAA6B,KAAO,6BAA6B,SAAW,iCAAiC,SAAW,iCAAiC,MAAQ,8BAA8B,KAAO,6BAA6B,MAAQ,8BAA8B,aAAa,mCAAmC,gBAAgB","file":"static/js/12.03ebb944.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport classes from './business-login.module.scss'\nimport { Button, Inputs, AuthenticationHeadrer, Loading } from \"../../../../models/ui\";\n\nimport { phone, plainText, Client, Form } from \"../../../../models\";\nimport * as language from \"../../../../assets/index\";\n\nimport { checkDomainIsValid, registerDomainClient } from \"../../../../store\";\nimport { getLoading, getError, getIsTokenSet, getisLogin, getIsValidDomain } from \"../../../../store/selectors\";\n\n\n\ninterface Params extends RouteComponentProps<{ domain: string }> { }\n\ninterface StateProps {\n    loading: boolean;\n    error: string;\n    isSetToken: boolean;\n    isValidDomain: boolean\n    isLogin: boolean\n}\n\ninterface DispatchProps {\n    checkDomainIsValid: typeof checkDomainIsValid;\n    registerDomainClient: typeof registerDomainClient;\n}\ntype Props = DispatchProps & StateProps & Params;\n\nconst DomainRegister: React.FC<Props> = (props) => {\n\n\n    const [form, setForm] = useState<Form>({\n        firstName: {\n            ...plainText, elementConfig: {\n                id: \"first\",\n                placeholder: language.firstName[1],\n            },\n            label: language.firstName[1],\n        },\n        lastName: {\n            ...plainText, elementConfig: {\n                id: \"last\",\n                placeholder: language.lastName[1],\n            },\n            label: language.lastName[1],\n        },\n        phone,\n    });\n\n    const [error, setError] = useState<string>(\"\");\n\n    const onClickNext = () => {\n        const domain = props.match.params.domain;\n\n\n        const client = Object.assign({},\n            ...Object.keys(form).map((k: string) => ({ [k]: form[k].value }))\n        );\n\n        props.registerDomainClient(client, domain);\n    };\n    const [redirect, setRedirect] = useState<JSX.Element>();\n    useEffect(() => {\n        // console.log( props.history.push());\n        const url = props.match.params.domain;\n        console.log(url);\n\n        props.isSetToken && setRedirect(\n            <Redirect to={'/' + url} />)\n    }, [props.isSetToken]);\n\n    return (\n        <div className={classes.Register}>\n            {redirect}\n            {props.isValidDomain ? <div\n                className={[classes.Form2, classes.Form].join(\" \")}\n            >\n                <AuthenticationHeadrer\n                    title={language.loginDomainTitle[1]}\n                    subTitle={language.loginSubTitle[1]}\n                    error={error ? error : props.error}\n                />\n\n                <React.Fragment>\n                    <div className={classes.Body}>\n\n                        <Inputs\n                            form={form} setForm={setForm} error={error} setError={setError}\n                        />\n\n\n                    </div>\n                    {!props.loading ? (\n                        <React.Fragment>\n                            <div className={classes.Button}>\n                                <Button color=\"purple-register\" onClick={() => onClickNext()} disabled={error === \"\"}>התחבר</Button>\n                            </div>\n                        </React.Fragment>\n                    ) : (\n                            <Loading />\n                        )}\n                </React.Fragment>\n            </div> :\n                <p>mistake</p>}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state: any) => ({\n    loading: getLoading(state),\n    error: getError(state),\n    isSetToken: getIsTokenSet(state),\n    isValidDomain: getIsValidDomain(state),\n    isLogin: getisLogin(state)\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    checkDomainIsValid: (domain: string) => dispatch(checkDomainIsValid(domain)),\n    registerDomainClient: (client: Client, domain: string) => dispatch(registerDomainClient(client, domain)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(DomainRegister);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"business-login_Button__2I3QD\",\"fade\":\"business-login_fade__1S2sE\",\"Form\":\"business-login_Form__3RPFG\",\"Register\":\"business-login_Register__DtMGG\",\"Timeline\":\"business-login_Timeline__1Jgra\",\"Form2\":\"business-login_Form2__FsXlD\",\"Body\":\"business-login_Body__3hV_3\",\"error\":\"business-login_error__1Fbuf\",\"fade-right\":\"business-login_fade-right__UJ0tm\",\"border-bottom\":\"business-login_border-bottom__3pFBK\"};"],"sourceRoot":""}