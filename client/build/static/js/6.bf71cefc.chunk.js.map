{"version":3,"sources":["containers/admin/settings/services/components/serivces.settings.tsx","containers/admin/settings/services/components/add-service/add-service.services.tsx","containers/admin/settings/services/serivces.settings.tsx","containers/admin/settings/services/services.module.scss","containers/admin/settings/services/components/add-service/add-service.module.scss"],"names":["connect","state","services","getServices","error","getError","isAdmin","getIsAdmin","dispatch","deleteService","service","props","setModal","setServiceToUpdate","useState","Services","setServices","settingHeader","useCallback","className","SerivcesSettingsStyle","TableHeader","language","header","useMemo","map","s","key","_id","title","price","duration","available","Available","style","background","color","onClick","Fragment","Error","Button","AddService","setError","updateService","setAvailable","plainText","label","value","class","validation","biggerThenZero","minLen","elementConfig","id","form","setForm","Footer","AddServiceStyle","ansForm","Object","assign","keys","k","fetchService","disabled","showError","close","footer","subTitle","Body","onChange","loading","getLoading","postService","ServiceToUpdate","Modal","useEffect","SerivcesSettings","module","exports"],"mappings":"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","file":"static/js/6.bf71cefc.chunk.js","sourcesContent":["import React, { useState, useCallback, useMemo } from 'react';\nimport { connect } from \"react-redux\";\nimport SerivcesSettingsStyle from '../services.module.scss';\nimport { MdDelete, MdModeEdit } from 'react-icons/md';\nimport { ArrowNext } from '../../../../../assets';\nimport * as language from '../../../../../assets/language/language'\nimport { deleteService } from \"../../../../../store\"\nimport { getIsAdmin, getError, getServices } from \"../../../../../store/selectors\";\nimport { Service } from '../../../../../models/system/service';\nimport { Button } from '../../../../../models/ui';\n\ninterface OwnProps {\n    setModal: (flag: boolean) => void;\n    setServiceToUpdate: (service: Service) => void\n}\n\ninterface StateProps {\n    services: Service[];\n    error: string,\n    isAdmin: boolean\n}\n\ninterface DispatchProps {\n\n    deleteService: typeof deleteService;\n\n\n}\ntype Props = DispatchProps & StateProps & OwnProps;\n\nconst SerivceComp: React.FC<Props> = (props) => {\n    const { setModal, setServiceToUpdate } = props;\n    const [Services, setServices] = useState<JSX.Element[]>();\n\n    const settingHeader = useCallback(() => (\n        <thead className={SerivcesSettingsStyle.TableHeader}>\n            <tr>\n                <th>{language.serviceName[1]}</th>\n                <th>{language.price[1]}</th>\n                <th>{language.duration[1]}</th>\n                {props.isAdmin && <th>{language.available[1]}</th>}\n                <th>{language.commands[1]}</th>\n            </tr>\n        </thead>\n    ), [props.isAdmin]);\n    const [header] = useState<JSX.Element>(settingHeader());\n\n\n    useMemo(() => {\n\n        setServices(\n            props.services.map((s: Service) =>\n                <tr key={s._id}>\n                    <td>{s.title}</td>\n                    <td>₪{s.price}</td>\n                    <td>{s.duration}</td>\n                    <td>\n                        {s.available ?\n                            <p className={SerivcesSettingsStyle.Available} style={{ background: '#7467ef' }}>{language.noActivate[1]}</p> :\n                            <p className={SerivcesSettingsStyle.Available} style={{ color: 'rgba(52, 49, 76, 1)' }}>{language.activate[1]}</p>\n                        }\n                    </td>\n                    <td>\n                        <MdDelete onClick={() => props.deleteService(s)} color=\"#e62163\" />\n\n                        <MdModeEdit onClick={() => {\n                            setServiceToUpdate(s);\n                            setModal(true)\n                        }} color=\"#7467ef\" />\n\n                    </td>\n                </tr>\n            )\n        )\n    }, [props.services]);\n\n    return (\n        <React.Fragment>\n\n            <div className={SerivcesSettingsStyle.Services}>\n                <table>\n                    {header}\n                    {props.error && <p className={SerivcesSettingsStyle.Error}>{props.error}</p>}\n                    <tbody>\n                        {Services}\n                    </tbody>\n                </table>\n            </div>\n            <div className={SerivcesSettingsStyle.Button}>\n                <Button color=\"purple\">{language.next[1]}<ArrowNext /></Button>\n            </div>\n        </React.Fragment>\n    )\n}\nconst mapStateToProps = (state: any) => ({\n    services: getServices(state),\n    error: getError(state),\n    isAdmin: getIsAdmin(state)\n\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n    deleteService: (service: Service) => dispatch(deleteService(service)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(SerivceComp);\n","import React, { useState } from 'react';\nimport AddServiceStyle from './add-service.module.scss';\nimport SerivcesSettingsStyle from '../../../../../../models/ui/header/container-header.module.scss'\n\nimport { Inputs, Button, SettingsHeader, SwitchButton, Modal } from '../../../../../../models/ui';\nimport { Service, plainText, Form } from '../../../../../../models';\nimport * as language from '../../../../../../assets/language/language'\n    ;\ninterface OwnProps {\n    close: () => void;\n    fetchService: (service: Service | any) => void;\n    updateService: Service | null\n    error: string;\n}\n\nconst AddService: React.SFC<OwnProps> = (props) => {\n    const [error, setError] = useState<string>(\"\");\n    const [Available, setAvailable] = useState(props.updateService ? props.updateService.available : true);\n    const [form, setForm] = useState<Form>({\n\n        title: {\n            ...plainText, label: language.servicesHeaderTitle[1],\n            value: props.updateService ? props.updateService.title : \"\"\n            , class: \"line\"\n        },\n        price: {\n            ...plainText, validation: { biggerThenZero: true, minLen: 1 },\n            label: language.price[1], value: props.updateService ? props.updateService.price : \"\",\n            elementConfig: {\n                id: \"number\"\n            },\n            class: \"line\"\n        },\n        duration: {\n            ...plainText, validation: { biggerThenZero: true, minLen: 1 }, label: language.duration[1],\n            value: props.updateService ? props.updateService.duration : \"\",\n            elementConfig: {\n                id: \"number\"\n            }\n            , class: \"line\"\n        },\n    });\n\n\n\n    const fetchService = () => {\n        if (error) return;\n\n        const _id = props.updateService ? props.updateService._id : null;\n        const ansForm = Object.assign(\n            _id ? { \"available\": Available, _id } : { \"available\": Available },\n            ...Object.keys(form).map((k) => {\n                return ({ [k]: form[k].value })\n            }))\n\n        props.fetchService(ansForm)\n    }\n\n    const Footer = () => (\n        <div className={AddServiceStyle.Button}>\n            <Button onClick={() => fetchService()} color=\"purple\" disabled={error === \"\"}>הוסף שירות</Button>\n        </div>\n    )\n\n    const showError = error !== \"\" && error !== null ? error : props.error !== \"\" && props.error !== null ? props.error : null;\n\n    return (\n        <Modal title={language.addServiceHeaderTitle[1]} close={props.close} footer={<Footer />}>\n\n            <SettingsHeader title={language.addServiceHeaderTitle[1]} subTitle={language.domainHeaderSubTitle[1]}\n            />\n            <div className={AddServiceStyle.Body}>\n                {showError && <p className={SerivcesSettingsStyle.Error}>{showError}</p>}\n\n                <Inputs\n                    form={form} setForm={setForm} error={error} setError={setError}\n                />\n\n                <div className={AddServiceStyle.Available}>\n                    <p style={Available ? { color: '#7467ef' } : { color: 'rgba(52, 49, 76, 1)' }}>\n                        {Available ? language.noActivate[1] : language.activate[1]}\n                    </p>\n                    <SwitchButton state={Available} onChange={() => { setAvailable(!Available) }} id={9} />\n                </div>\n            </div>\n        </Modal>\n    )\n}\n\nexport default AddService;\n\n\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { connect } from \"react-redux\";\nimport SerivcesSettingsStyle from './services.module.scss';\n\nimport { postService, deleteService, updateService } from \"../../../../store\"\nimport { getError, getLoading, getServices } from \"../../../../store/selectors\";\n\nimport { Service } from '../../../../models';\n\nimport { Button, SettingsHeader, Breadcrumbs } from '../../../../models/ui';\nimport * as language from '../../../../assets/language/language'\n\nimport SerivceComp from './components/serivces.settings';\nimport AddService from './components/add-service/add-service.services';\n\ninterface StateProps {\n    services: Service[];\n    loading: boolean;\n    error: string;\n}\n\ninterface DispatchProps {\n    postService: typeof postService;\n    deleteService: typeof deleteService;\n    updateService: typeof updateService;\n\n}\ntype Props = DispatchProps & StateProps;\n\n\nconst SerivceSettings: React.FC<Props> = (props) => {\n\n    const [ServiceToUpdate, setServiceToUpdate] = useState<Service | null>(null)\n    const [Modal, setModal] = useState<boolean>(false);\n\n\n    const settingHeader = useCallback(() => (\n        <SettingsHeader title={language.settingTitleHeader[1]} subTitle={language.settingSubTitleHeader[1]} />\n    ), []);\n    const [header] = useState<JSX.Element>(settingHeader());\n\n\n    if (!Modal && ServiceToUpdate) setServiceToUpdate(null);\n\n    useEffect(() => {\n        props.error === \"\" && !props.loading && setModal(false)\n    }, [props.error, props.loading]);\n    return (\n        <React.Fragment>\n            {Modal && <AddService close={() => setModal(false)} fetchService={ServiceToUpdate ? props.updateService : props.postService} updateService={ServiceToUpdate} error={props.error} />}\n            {header}\n            <div className={SerivcesSettingsStyle.SerivcesSettings}>\n                <Breadcrumbs title={language.settingTitleHeader[1]} />\n                <Button onClick={() => setModal(true)} color=\"purple\" disabled={true}>{language.addNewService[1]}</Button>\n\n                <SerivceComp setModal={setModal}\n                    setServiceToUpdate={setServiceToUpdate} />\n            </div>\n        </React.Fragment>\n    )\n}\nconst mapStateToProps = (state: any) => ({\n    services: getServices(state),\n    loading: getLoading(state),\n    error: getError(state),\n\n});\nconst mapDispatchToProps = (dispatch: any) => ({\n\n    deleteService: (service: Service) => dispatch(deleteService(service)),\n    updateService: (service: Service) => dispatch(updateService(service)),\n    postService: (form: Service) => dispatch(postService(form)),\n});\n\nexport default connect<StateProps, DispatchProps>(mapStateToProps, mapDispatchToProps)(SerivceSettings);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SerivcesSettings\":\"services_SerivcesSettings__1bx82\",\"fade\":\"services_fade__1-O-K\",\"Services\":\"services_Services__1jRbj\",\"TableHeader\":\"services_TableHeader__YqNkc\",\"Button\":\"services_Button__3xfLk\",\"Available\":\"services_Available__1fAaM\",\"error\":\"services_error__1oaHY\",\"fade-right\":\"services_fade-right__h-fGE\",\"border-bottom\":\"services_border-bottom__2vyYb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Body\":\"add-service_Body__29bR_\",\"Available\":\"add-service_Available__3Kxgx\",\"Button\":\"add-service_Button__1nZLR\",\"error\":\"add-service_error__1ez40\",\"fade\":\"add-service_fade__3aGfE\",\"fade-right\":\"add-service_fade-right__1o_oK\",\"border-bottom\":\"add-service_border-bottom__1W0Bz\"};"],"sourceRoot":""}